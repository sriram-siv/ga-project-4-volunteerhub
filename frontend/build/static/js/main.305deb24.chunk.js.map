{"version":3,"sources":["lib/api.js","lib/icons.js","components/elements/InputText.js","components/elements/Button.js","components/elements/UserForms.js","components/elements/UserPanel.js","components/common/NavBar.js","components/common/Notification.js","components/elements/Split.js","components/common/Home.js","components/elements/MessageBox.js","components/elements/ChatWindow.js","components/elements/InputArea.js","components/elements/ChatControl.js","components/elements/List.js","components/common/Room.js","components/map/Pin.js","components/map/MapHelper.js","components/map/MapLoading.js","components/map/Map.js","components/map/GeocoderInput.js","components/map/Geocoder.js","components/elements/ResultsItem.js","components/elements/ResultsList.js","components/common/CampaignIndex.js","components/elements/BannerImage.js","components/elements/MultiList.js","components/elements/CampaignInfo.js","components/elements/NoticeBox.js","components/elements/Schedule.js","components/elements/UserCard.js","components/elements/VolunteerList.js","components/elements/MultiListVolunteers.js","components/elements/FilterVolunteers.js","components/common/AdminPanel.js","components/common/CampaignShow.js","components/common/CampaignCreate.js","components/common/Profile.js","App.js","index.js","images/campaigns.jpg","images/campPreview.jpg","gif/chatgif.gif"],"names":["withHeaders","headers","Authorization","localStorage","getItem","repeatUntilSuccess","request","a","response","data","registerUser","formData","axios","post","loginUser","getSingleProfile","profileId","get","baseUrl","updateProfile","put","createCampaign","getAllCampaigns","getSingleCampaign","campaignId","addPendVolunteer","confirmVolunteer","volunteer_id","removeVolunteer","delete","getAllSkills","updateProfileSkills","updateProfileShifts","addCampaignNotice","deleteCampaignNotice","noticeId","createRoom","getSingleRoom","roomId","color","fill","viewBox","height","width","xmlns","fillRule","clipRule","d","size","Wrapper","styled","div","props","Input","input","theme","background","focus","text","fontWeight","shadow","primary","Label","letterSpacing","Highlight","Error","InputField","state","handleChange","event","returnValue","handleFocus","setState","handleBlur","this","label","value","name","type","error","onFocus","onBlur","ref","onChange","spellCheck","React","Component","ButtonElement","button","Button","onClick","form","visible","panels","ChangeMode","p","UserForms","mode","first_name","last_name","username","email","phone","password","password_confirmation","profile_image","showNotification","registerErrors","componentDidUpdate","prevProps","switchMode","target","handleSubmit","preventDefault","loginData","status","console","log","setItem","token","id","onLogin","app","detail","passwordConfirmation","firstName","lastName","onSubmit","InputText","Link","UserPanel","openProfile","logout","NavBarContainer","NavBar","showForm","showUserOptions","selectStyles","control","styles","backgroundColor","borderRadius","borderColor","singleValue","fontSize","menu","componentDidMount","selectSection","history","push","openUserPanel","handleLogin","getUser","handleLogout","options","changeTheme","campaignList","location","pathname","className","icons","defaultValue","withRouter","withTheme","Notification","notification","setTimeout","hideNotification","message","SplitContain","section","SplitRow","SplitTitle","h1","SplitImg","img","SplitBrk","Hero","Home","to","style","textDecoration","src","campaigns","alt","campPreview","chatgif","MessageBox","isSelf","Box","accent","Accent","AccentShadow","Name","Text","linkMatch","interpolateLinks","line","links","match","plain","split","filter","res","joined","concat","reverse","interpolated","getStart","startsWith","length","shift","pop","getHref","address","prevMessage","consecutiveMessage","user","consecutive","map","i","key","frag","href","historyLoaded","ChatWindow","messages","setRef","userID","Number","textarea","shiftPressed","keyDown","keyCode","submit","keyUp","placeholder","onKeyDown","onKeyUp","IconSpan","span","EmojiPicker","show","ChatControl","send","pickEmoji","useState","showEmoji","setShowEmoji","toggleEmoji","position","corner","role","aria-label","onSelect","isHidden","ListScroll","ItemDetail","Title","Toggle","List","toggleView","onToggle","title","items","item","ControlWrapper","Header","ListWrapper","Room","members","draft","getChatHistory","connectToSocket","wsScheme","window","protocol","domain","hostname","chatSocket","WebSocket","params","room","onmessage","e","JSON","parse","chatWindow","scrollTop","scrollHeight","onclose","goBack","sendMessage","stringify","trim","emoji","native","memberItems","volunteer","InputArea","Pin","Base","Point","Inner","number","Dot","hoverPin","dragPin","latitude","lngLat","longitude","clickPin","onDoubleClick","dblClickPin","zoom","onMouseEnter","onMouseLeave","onMount","MapLoading","textAlign","lineHeight","Map","pins","flyTo","viewport","setViewport","mapReady","setMapReady","useEffect","mapStyle","cursorStyle","accessToken","process","viewportChangeMethod","onViewportChange","doubleClickZoom","MapHelper","pin","toggleFocus","geocoderProps","Item","Geocoder","true","mapboxApiAccessToken","inputComponent","inputProps","GeocoderInput","itemComponent","itemProps","updateInputOnSelect","onSelected","timeout","expanded","Body","Open","ResultsItem","showDetails","description","signUp","scroll","ResultsList","resultShowingDetail","showDetail","campaign","main","SearchFields","Message","Dismiss","CampaignIndex","filteredResults","tags","bounds","_ne","lat","lng","_sw","getResults","setMapRef","getMap","on","getBounds","err","setGeocoderInputRef","geocoder","result","inLat","inLng","selectGeocoderItem","signUpToCampaign","dismissNotification","Banner","BannerImage","children","component","open","MultiList","openList","onListToggle","listName","containerStyle","lists","list","CampaignInfo","campaignData","NoticeContain","showInput","NoticeText","NoticeDelete","User","NoticeBox","noticeText","notices","loadData","noticeboard","campaign_notices","newNotice","handleDelete","notice","admin","owner","ScheduleContainer","Grid","Slot","active","Time","Schedule","slots","Array","from","handleClick","schedule","time","day","slot","isSelected","Control","ProfilePic","Details","UserCard","denyActive","clickDeny","deny","clickInterval","clickSelect","select","componentWillUnmount","clearInterval","confirm","pending","user_shifts","forEach","fullWidth","user_skills","skill","join","margin","VolunteerList","userShowingDetail","actions","users","selectVolunteer","denyVolunteer","MultiListVolunteer","setOpenList","toggleList","CheckBox","FilterVolunteers","skillsOptions","getSkills","skills","selectSchedule","selectSkills","selectStrict","strictSkills","strictSchedule","groupName","editGroupName","isMulti","htmlFor","checked","ButtonGroup","AdminPanel","campaignID","volunteers","filteredVolunteers","pendingVolunteers","selectedVolunteers","getCampaignData","coordinators","conf_volunteers","pend_volunteers","filterVolunteers","selected","every","some","isAvailableAny","userSkill","hasSkillsAny","includes","vol","createNewGroup","unshift","volunteerID","confirmedVolunteer","find","volunteerActions","volunteerLists","MainContent","CampaignShow","rooms","getCampaign","roomItems","message_rooms","openChatRoom","allMembers","isAdmin","roomID","userId","isOwner","isCoord","top","right","padding","paddingLeft","Form","GeoWrapper","MapContain","CampaignCreate","volunteer_count","start_date","newCampaignId","showWidget","cloudinary","createUploadWidget","cloudName","uploadPreset","showUploadMoreButton","pendingUserData","info","url","bottom","zIndex","EditPic","EditPicButton","Section","PageTitle","SectionTitle","EditForm","Profile","userData","editMode","newPic","getProfile","handleEditMode","handleEditChange","saveEdits","discardEdits","editSchedule","editSkills","saveShiftsSkills","shiftResponse","skillIds","skillsResponse","userSkills","marginTop","App","userCampaigns","themes","dark","light","getUserCampaigns","removeItem","owned","owned_campaigns","coord","coord_campaigns","conf_campaigns","auto","exact","path","render","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.305deb24.chunk.js","sourcesContent":["import axios from 'axios'\n\n// const baseUrl = 'http://localhost:3000/api'\nconst baseUrl = '/api'\nconst baseUrlCampaigns = baseUrl + '/campaigns'\nconst baseUrlProfiles = baseUrl + '/profiles'\n\nconst withHeaders = () => {\n  return {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('token')}`\n    }\n  }\n}\n\nexport const repeatUntilSuccess = async request => {\n  let response\n  while (!response?.data) {\n    try {\n      response = await request()\n    } catch (err) {\n      // Retry\n    }\n  }\n  return response\n}\n\nexport const registerUser = formData => axios.post(`${baseUrl}/auth/register/`, formData)\n\nexport const loginUser = formData => axios.post(`${baseUrl}/auth/login/`, formData)\n\nexport const getAllProfiles = () => axios.get(`${baseUrlProfiles}/`)\n\nexport const getSingleProfile = profileId => axios.get(`${baseUrlProfiles}/${profileId}/`)\n\nexport const updateProfile = (profileId, formData) => axios.put(`${baseUrlProfiles}/${profileId}/`, formData, withHeaders())\n\nexport const deleteProfile = profileId => axios.delete(`${baseUrlProfiles}/${profileId}/`, withHeaders())\n\n\nexport const createCampaign = formData => axios.post(`${baseUrlCampaigns}/`, formData, withHeaders())\n\nexport const getAllCampaigns = async () => axios.get(`${baseUrlCampaigns}/`)\n\nexport const getSingleCampaign = campaignId => axios.get(`${baseUrlCampaigns}/${campaignId}/`, withHeaders())\n\nexport const updateCampaign = (campaignId, formData) => axios.put(`${baseUrlCampaigns}/${campaignId}/`, formData, withHeaders())\n\nexport const deleteCampaign = campaignId => axios.delete(`${baseUrlCampaigns}/${campaignId}/`, withHeaders())\n\n\n// USER ADDS SELF AS PENDING VOLUNTEER\nexport const addPendVolunteer = campaignId => axios.post(`${baseUrlCampaigns}/${campaignId}/volunteers/0/`, null, withHeaders())\n\n// CAMPAIGN COORDINATOR MOVES PENDING VOLUNTEER TO CONFIRMED, REQUEST BODY NEEDS TO INCLUDE 'volunteer_id': id\nexport const confirmVolunteer = (campaignId, volunteer_id) => axios.put(`${baseUrlCampaigns}/${campaignId}/volunteers/${volunteer_id}/`, null, withHeaders())\n\n// CAMPAIGN COORDINATOR OR USER-VOLUNTEER CAN REMOVE VOLUNTEER FROM CAMPAIGN (PENDING & CONFIRMED)\n// BODY NEEDS TO INCLUDE 'volunteer_id': id REGARDLESS OF LOGGED IN USER\nexport const removeVolunteer = (campaignId, volunteer_id) => axios.delete(`${baseUrlCampaigns}/${campaignId}/volunteers/${volunteer_id}/`, withHeaders())\n\n// SKILL POST & DELETE REQUESTS REQUIRE 'skill_id' IN REQUEST BODY\nexport const getAllSkills = () => axios.get(`${baseUrl}/skills/`)\n\nexport const updateProfileSkills = (profileId, formData) => axios.put(`${baseUrlProfiles}/${profileId}/skills/`, formData, withHeaders())\n\nexport const addCampaignSkill = (campaignId, formData) => axios.post(`${baseUrlCampaigns}/${campaignId}/skills/`, formData, withHeaders())\n\nexport const removeCampaignSkill = (campaignId, formData) => axios.delete(`${baseUrlCampaigns}/${campaignId}/skills/`, formData, withHeaders())\n\n// SKILL POST & DELETE REQUESTS REQUIRE 'shift_id' IN REQUEST BODY\nexport const getAllShifts = () => axios.get(`${baseUrl}/shifts/`)\n\nexport const updateProfileShifts = (profileId, formData) => axios.put(`${baseUrlProfiles}/${profileId}/shifts/`, formData, withHeaders())\n\n\nexport const addCampaignNotice = formData => axios.post(`${baseUrl}/notices/`, formData, withHeaders())\n\nexport const deleteCampaignNotice = noticeId => axios.delete(`${baseUrl}/notices/${noticeId}/`, withHeaders())\n\n\nexport const getAllRooms = () => axios.get(`${baseUrl}/rooms/`)\n\nexport const createRoom = formData => axios.post(`${baseUrl}/rooms/`, formData)\n\nexport const getSingleRoom = roomId => axios.get(`${baseUrl}/rooms/${roomId}/`, withHeaders())\n","import React from 'react'\n\nconst user = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4ZM6 8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8C18 11.3137 15.3137 14 12 14C8.68629 14 6 11.3137 6 8ZM8 18C6.34315 18 5 19.3431 5 21C5 21.5523 4.55228 22 4 22C3.44772 22 3 21.5523 3 21C3 18.2386 5.23858 16 8 16H16C18.7614 16 21 18.2386 21 21C21 21.5523 20.5523 22 20 22C19.4477 22 19 21.5523 19 21C19 19.3431 17.6569 18 16 18H8Z\"></path>\n    </svg>\n  )\n}\nconst sun = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 2C12.5523 2 13 2.44772 13 3V4C13 4.55228 12.5523 5 12 5C11.4477 5 11 4.55228 11 4V3C11 2.44772 11.4477 2 12 2ZM19.0711 4.92893C19.4616 5.31945 19.4616 5.95261 19.0711 6.34314L18.364 7.05025C17.9735 7.44077 17.3403 7.44077 16.9498 7.05025C16.5593 6.65972 16.5593 6.02656 16.9498 5.63603L17.6569 4.92893C18.0474 4.5384 18.6806 4.5384 19.0711 4.92893ZM4.92893 4.92893C5.31945 4.5384 5.95262 4.5384 6.34314 4.92893L7.05025 5.63603C7.44077 6.02656 7.44077 6.65972 7.05025 7.05025C6.65972 7.44077 6.02656 7.44077 5.63603 7.05025L4.92893 6.34314C4.5384 5.95262 4.5384 5.31945 4.92893 4.92893ZM12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8ZM6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12ZM2 12C2 11.4477 2.44772 11 3 11H4C4.55228 11 5 11.4477 5 12C5 12.5523 4.55228 13 4 13H3C2.44772 13 2 12.5523 2 12ZM19 12C19 11.4477 19.4477 11 20 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H20C19.4477 13 19 12.5523 19 12ZM5.63603 16.9497C6.02656 16.5592 6.65972 16.5592 7.05025 16.9497C7.44077 17.3403 7.44077 17.9734 7.05025 18.364L6.34314 19.0711C5.95262 19.4616 5.31945 19.4616 4.92893 19.0711C4.5384 18.6805 4.5384 18.0474 4.92893 17.6568L5.63603 16.9497ZM16.9498 18.364C16.5593 17.9734 16.5593 17.3403 16.9498 16.9497C17.3403 16.5592 17.9735 16.5592 18.364 16.9497L19.0711 17.6568C19.4616 18.0474 19.4616 18.6805 19.0711 19.0711C18.6806 19.4616 18.0474 19.4616 17.6569 19.0711L16.9498 18.364ZM12 19C12.5523 19 13 19.4477 13 20V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V20C11 19.4477 11.4477 19 12 19Z\"></path>\n    </svg>\n  )\n}\nconst moon = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.36077 3.29291C9.6659 3.59803 9.74089 4.06445 9.54678 4.44984C9.04068 5.4547 8.75521 6.59035 8.75521 7.79557C8.75521 11.9097 12.0903 15.2448 16.2044 15.2448C17.4097 15.2448 18.5453 14.9593 19.5502 14.4532C19.9356 14.2591 20.402 14.3341 20.7071 14.6392C21.0122 14.9444 21.0872 15.4108 20.8931 15.7962C19.3396 18.8806 16.1428 21 12.4492 21C7.23056 21 3 16.7695 3 11.5508C3 7.85719 5.11941 4.6604 8.20384 3.1069C8.58923 2.91279 9.05565 2.98778 9.36077 3.29291ZM6.8217 6.6696C5.68637 7.97742 5 9.68431 5 11.5508C5 15.6649 8.33513 19 12.4492 19C14.3157 19 16.0226 18.3136 17.3304 17.1783C16.9611 17.2222 16.5853 17.2448 16.2044 17.2448C10.9858 17.2448 6.75521 13.0142 6.75521 7.79557C6.75521 7.41472 6.77779 7.03896 6.8217 6.6696Z\"></path>\n    </svg>\n  )\n}\nconst search = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M10 4C6.68629 4 4 6.68629 4 10C4 13.3137 6.68629 16 10 16C13.3137 16 16 13.3137 16 10C16 6.68629 13.3137 4 10 4ZM2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 11.8487 17.3729 13.551 16.3199 14.9056L21.7071 20.2929C22.0976 20.6834 22.0976 21.3166 21.7071 21.7071C21.3166 22.0976 20.6834 22.0976 20.2929 21.7071L14.9056 16.3199C13.551 17.3729 11.8487 18 10 18C5.58172 18 2 14.4183 2 10Z\"></path>\n    </svg>\n  )\n}\nconst up = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289L18.7071 13.2929C19.0976 13.6834 19.0976 14.3166 18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071L12 9.41421L6.70711 14.7071C6.31658 15.0976 5.68342 15.0976 5.29289 14.7071C4.90237 14.3166 4.90237 13.6834 5.29289 13.2929L11.2929 7.29289Z\"></path>\n    </svg>\n  )\n}\nconst down = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.29289 9.29289C5.68342 8.90237 6.31658 8.90237 6.70711 9.29289L12 14.5858L17.2929 9.29289C17.6834 8.90237 18.3166 8.90237 18.7071 9.29289C19.0976 9.68342 19.0976 10.3166 18.7071 10.7071L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L5.29289 10.7071C4.90237 10.3166 4.90237 9.68342 5.29289 9.29289Z\"></path>\n    </svg>\n  )\n}\nconst right = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.29289 18.7071C8.90237 18.3166 8.90237 17.6834 9.29289 17.2929L14.5858 12L9.29289 6.70711C8.90237 6.31658 8.90237 5.68342 9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L10.7071 18.7071C10.3166 19.0976 9.68342 19.0976 9.29289 18.7071Z\"></path>\n    </svg>\n  )\n}\nconst send = (color = '#232323', size = 24) => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height={size} width={size} xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 2C12.3788 2 12.725 2.214 12.8944 2.55279L21.8944 20.5528C22.067 20.8978 22.0256 21.3113 21.7882 21.6154C21.5508 21.9195 21.1597 22.0599 20.7831 21.9762L12 20.0244L3.21694 21.9762C2.84035 22.0599 2.44921 21.9195 2.2118 21.6154C1.97439 21.3113 1.93306 20.8978 2.10558 20.5528L11.1056 2.55279C11.275 2.214 11.6212 2 12 2ZM13 18.1978L19.166 19.568L13 7.23607V18.1978ZM11 7.23607V18.1978L4.83402 19.568L11 7.23607Z\"></path>\n    </svg>\n  )\n}\nconst edit = (color = '#232323', size = 24) => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height={size} width={size} xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16.2929 2.29289C16.6834 1.90237 17.3166 1.90237 17.7071 2.29289L21.7071 6.29289C22.0976 6.68342 22.0976 7.31658 21.7071 7.70711L8.70711 20.7071C8.51957 20.8946 8.26522 21 8 21H4C3.44772 21 3 20.5523 3 20V16C3 15.7348 3.10536 15.4804 3.29289 15.2929L13.2927 5.2931L16.2929 2.29289ZM14 7.41421L5 16.4142V19H7.58579L16.5858 10L14 7.41421ZM18 8.58579L15.4142 6L17 4.41421L19.5858 7L18 8.58579Z\"></path>\n    </svg>\n  )\n}\n\nexport default { user, sun, moon, search, up, down, right, send, edit }","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: ${props => props.width};\n  margin: auto;\n`\n\nconst Input = styled.input`\n  background-color: ${props => props.theme.background};\n  color: ${props => props.focus ? props.theme.text : 'transparent'};\n  border-radius: 2px;\n  height: 3.1rem;\n  width: 100%;\n  font-size: 1rem;\n  font-weight: ${props => props.theme.fontWeight};\n  border: 1px solid ${props => props.theme.shadow};\n  padding: calc(12px + 0.7rem) 10px 5px;\n  &:focus {\n    outline: none;\n  }\n  ::selection {\n    background-color: ${props => props.theme.primary};\n    color: #444;\n  }\n  `\n  \nconst Label = styled.div`\n  position: absolute;\n  top: ${props => props.focus ? '6px' : '0.8rem'};\n  left: 11px;\n  color: ${props => props.theme.text};\n  font-size: ${props => props.focus ? '0.7rem' : '1rem'};\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n  pointer-events: none;\n`\n\nconst Highlight = styled.div`\n  height: ${props => props.focus ? '3px' : 0};\n  width: calc(100% - 2px);\n  background-color: ${props => props.theme.primary};\n  position: absolute;\n  bottom: 1px;\n  left: 1px;\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  transition: all 0;\n`\n\nconst Error = styled.div`\n  position: absolute;\n  top: 6px;\n  right: 11px;\n  color: palevioletred;\n  font-size: 0.7rem;\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n  pointer-events: none;\n  text-transform: lowercase;\n`\n\nclass InputField extends React.Component {\n\n  state = {\n    focus: false\n  }\n\n  handleChange = event => {\n    this.props.returnValue(event)\n  }\n  handleFocus = () => {\n    this.setState({ focus: true })\n  }\n  handleBlur = () => {\n    this.setState({ focus: false })\n  }\n\n  render() {\n    const { focus } = this.state\n    const { label, width, value, name, type, error } = this.props\n    return (\n      <Wrapper width={width} onFocus={this.handleFocus} onBlur={this.handleBlur}>\n        <Input ref={input => this.input = input} focus={focus || value} type={type} name={name} value={value} onChange={this.handleChange} spellCheck=\"false\" />\n        <Label focus={focus || value}>{label}</Label>\n        <Error>{error}</Error>\n        <Highlight focus={focus} />\n      </Wrapper>\n    )\n  }\n}\n\nexport default InputField","import React from 'react'\nimport styled from 'styled-components'\n\nconst ButtonElement = styled.button`\n  display: block;\n  background-color: ${props => props.primary ? props.theme.primary : props.theme.background};\n  color: ${props => props.theme.text};\n  border-radius: 2px;\n  width: ${props => props.width};\n  margin: auto;\n  height: 3.1rem;\n  border: 2px solid #fef15e;\n  transition: all 0.15s;\n\n  &:hover {\n    background-color: #fef15eef;\n    color: #333;\n  }\n`\n\nconst Button = ({ width, label, onClick, primary }) => {\n  return <ButtonElement primary={primary} width={width} onClick={onClick}>{label}</ButtonElement>\n}\n\nexport default Button","import React from 'react'\nimport styled from 'styled-components'\n\nimport { loginUser, registerUser } from '../../lib/api'\n\nimport InputText from './InputText'\nimport Button from './Button'\n\nconst Wrapper = styled.form`\n  position: absolute;\n  z-index: 8;\n  top: ${props => props.visible ? 'calc(3rem + 5px)' : '-12rem'};\n  left: 5px;\n  background-color: ${props => props.theme.panels};\n  width: 360px;\n  transition: top 0.4s;\n  > * {\n    margin: 5px;\n  }\n`\n\nconst ChangeMode = styled.p`\n  font-size: 0.7rem;\n  text-align: center;\n  color: ${props => props.theme.text};\n  cursor: pointer;\n`\n\nclass UserForms extends React.Component {\n\n  state = {\n    mode: 'login',\n    formData: {\n      first_name: '',\n      last_name: '',\n      username: '',\n      email: '',\n      phone: '',\n      password: '',\n      password_confirmation: '',\n      profile_image: 'http://res.cloudinary.com/dmhj1vjdf/image/upload/v1603961535/volunteers/u4zukx1dlvly1pu2zz81.png'\n    },\n    showNotification: false,\n    registerErrors: {}\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.visible !== this.props.visible) this.setState({ mode: 'login' })\n  }\n  \n  switchMode = () => {\n    const mode = this.state.mode === 'login' ? 'register' : 'login'\n    this.setState({ mode, registerErrors: {} })\n  }\n\n  handleChange = event => {\n    const formData = {\n      ...this.state.formData,\n      [event.target.name]: event.target.value\n    }\n    const registerErrors = {\n      ...this.state.registerErrors,\n      [event.target.name]: ''\n    }\n    this.setState({ formData, registerErrors })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n\n    // Prepare separate form for login so that autologin can complete upon register\n    const loginData = {\n      email: this.state.formData.email,\n      password: this.state.formData.password\n    }\n    \n    if (this.state.mode === 'register') {\n      try {\n        const response = await registerUser(this.state.formData)\n        if (response.status !== 201) return\n      } catch (err) {\n        console.log(err.response.data)\n        this.setState({ registerErrors: err.response.data })\n        return\n      }\n    }\n    try {\n      const response = await loginUser(loginData)\n      localStorage.setItem('token', response.data.token)\n      localStorage.setItem('user_id', response.data.id)\n      if (response.status === 200) this.props.onLogin(response.data.id)\n    } catch (err) {\n      this.props.app.showNotification(err.response.data.detail)\n      const formData = { ...this.state.formData, email: '', password: '' }\n      this.setState({ formData })\n    }\n  }\n\n  render() {\n    const { mode, registerErrors } = this.state\n    const { username, email, password, password_confirmation: passwordConfirmation, first_name: firstName, last_name: lastName, phone } = this.state.formData\n    return (\n      <Wrapper visible={this.props.visible} onSubmit={this.handleSubmit}>\n        {mode === 'register' &&\n          <InputText label=\"username\" name=\"username\" value={username} returnValue={this.handleChange} error={registerErrors.username} />}\n        {mode === 'register' &&\n          <InputText label=\"first name\" name=\"first_name\" value={firstName} returnValue={this.handleChange} error={registerErrors.first_name && registerErrors.first_name[0]} />}\n        {mode === 'register' &&\n          <InputText label=\"last name\" name=\"last_name\" value={lastName} returnValue={this.handleChange} error={registerErrors.last_name && registerErrors.last_name[0]} />}\n        <InputText label=\"email\" name=\"email\" value={email} returnValue={this.handleChange} error={registerErrors.email && registerErrors.email[0]} />\n        {mode === 'register' &&\n          <InputText label=\"phone\" name=\"phone\" value={phone} type=\"number\" returnValue={this.handleChange} error={registerErrors.phone && registerErrors.phone[0]} />}\n        <InputText label=\"password\" name=\"password\" value={password} type=\"password\" returnValue={this.handleChange} error={registerErrors.password && registerErrors.password[0]} />\n        {mode === 'register' &&\n          <InputText label=\"confirm password\" name=\"password_confirmation\" value={passwordConfirmation} type=\"password\" returnValue={this.handleChange} error={registerErrors.password_confirmation && registerErrors.password_confirmation[0]} />}\n        <Button label={mode} width=\"calc(100% - 10px)\" />\n        <ChangeMode onClick={this.switchMode}>{mode === 'login' ? 'new user' : ' I have an account'}</ChangeMode>\n      </Wrapper>\n    )\n  }\n}\n\nexport default UserForms","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: absolute;\n  z-index: 20;\n  top: 0;\n  left: ${props => props.visible ? '100px' : '60px'};\n  width: 15rem;\n  height: 3rem;\n  opacity: ${props => props.visible ? 1 : 0};\n  transition: all 0.2s;\n  pointer-events: ${props => props.visible ? 'all' : 'none'};\n  > * {\n    margin: 5px;\n  }\n`\n\nconst Link = styled.a`\n  line-height: 3rem;\n  color: #282828;\n  cursor: pointer;\n  &:hover {\n    text-decoration: none;\n    color: #282828;\n  }\n`\n\nconst UserPanel = ({ visible, openProfile, logout }) => {\n  return (\n    <Wrapper visible={visible}>\n      <Link onClick={openProfile}>profile</Link>\n      <Link onClick={logout}>logout</Link>\n    </Wrapper>\n  )\n}\n\nexport default UserPanel","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport styled, { withTheme } from 'styled-components'\nimport Select from 'react-select'\n\nimport icons from '../../lib/icons'\nimport UserForms from '../elements/UserForms'\nimport UserPanel from '../elements/UserPanel'\n\nconst NavBarContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 3rem;\n  background-color: ${props => props.theme.primary};\n  position: relative;\n  z-index: 10;\n`\n\nclass NavBar extends React.Component {\n\n  state = {\n    showForm: false,\n    showUserOptions: false\n  }\n\n  selectStyles = {\n    control: styles => ({\n      ...styles,\n      backgroundColor: this.props.theme.background,\n      borderRadius: '2px',\n      borderColor: this.props.theme.shadow,\n      height: 'calc(2rem)'\n    }),\n    singleValue: (styles) => ({\n      ...styles,\n      color: this.props.theme.text,\n      fontWeight: this.props.theme.fontWeight,\n      letterSpacing: this.props.theme.letterSpacing,\n      fontSize: '0.85rem'\n    }),\n    menu: (styles) => ({\n      ...styles,\n      backgroundColor: this.props.theme.background,\n      color: this.props.theme.text,\n      borderRadius: '2px'\n    })\n  }\n  \n  componentDidMount = () => {\n    \n  }\n\n  selectSection = (event) => {\n    this.props.history.push(event.value)\n  }\n\n  openUserPanel = () => {\n    if (!localStorage.getItem('user_id')) this.setState({ showForm: !this.state.showForm })\n    else this.setState({ showUserOptions: !this.state.showUserOptions })\n  }\n\n  openProfile = () => {\n    this.props.history.push('/profile')\n    this.setState({ showUserOptions: false })\n  }\n\n  handleLogin = async (id) => {\n    this.props.app.getUser(id)\n    this.setState({ showForm: false })\n  }\n\n  handleLogout = () => {\n    this.props.app.logout()\n    this.setState({ showUserOptions: false })\n    this.props.history.push('/campaigns')\n  }\n\n  render() {\n    let options = [{ value: '/campaigns', label: 'Campaign Index' }]\n    if (localStorage.getItem('user_id')) options.push({ value: '/campaigns/new', label: 'New Campaign' })\n    const { changeTheme, theme, campaignList } = this.props\n    const { showForm, showUserOptions } = this.state\n\n    if (this.props.location.pathname === '/') return null\n\n    if (campaignList) options = [...campaignList, ...options]\n    \n    return (\n      <>\n        <UserPanel visible={showUserOptions} openProfile={this.openProfile} logout={this.handleLogout} />\n        <UserForms visible={showForm} onLogin={this.handleLogin} app={this.props.app}/>\n        <NavBarContainer>\n          <div className=\"nav-left\">\n            <span onClick={changeTheme}>\n              {theme.name === 'light' ? icons.sun() : icons.moon()}\n            </span>\n            <span onClick={this.openUserPanel}>\n              {icons.user()}\n            </span>\n          </div>\n          <div className=\"nav-center\">Volunteer.io</div>\n          <div className=\"nav-right\">\n            <Select\n              styles={this.selectStyles}\n              options={options}\n              defaultValue={{ value: '/campaigns', label: 'Campaign Index' }}\n              onChange={this.selectSection}\n            />\n          </div>\n        </NavBarContainer>\n      </>\n    )\n  }\n}\n\nexport default withRouter(withTheme(NavBar))","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 50vw;\n  height: 2rem;\n  width: 300px;\n  max-width: 95vw;\n  transform: translateX(-50%);\n  z-index: 9;\n\n  text-align: center;\n  font-size: 0.85rem;\n  line-height: 2rem;\n\n  border: 1px solid ${props => props.theme.primary};\n  border-radius: 2px;\n  background-color: ${props => props.theme.panels};\n  color: ${props => props.theme.text};\n  animation-name: toastAuto;\n  animation-duration: 4s;\n  animation-fill-mode: forwards;\n`\n\nclass Notification extends React.Component {\n\n  state = {\n    notification: null\n  }\n  \n  componentDidUpdate = (prevProps) => {\n    if (prevProps.notification !== this.props.notification) {\n      this.showNotification()\n      setTimeout(this.hideNotification, 4000)\n    }\n  }\n\n  showNotification = () => {\n    const { notification } = this.props\n    this.setState({ notification: notification.message })\n  }\n\n  hideNotification = () => {\n    this.setState({ notification: null })\n  }\n  \n  render() {\n    const { notification } = this.state\n    if (!notification) return null\n    return <Wrapper>{notification}</Wrapper>\n  }\n}\n\nexport default Notification","import styled from 'styled-components'\n\nexport const SplitContain = styled.section`\n  width: 90vw;\n  margin: 0 auto;\n`\nexport const SplitRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n  text-align: center;\n  grid-gap: 20px;\n\n  @media (max-width: 760px) {\n    grid-template-columns: 1fr;\n  }\n`\n\nexport const SplitTitle = styled.h1`\n  font-size: 1.5rem;\n`\n\nexport const SplitImg = styled.img `\n  height: 80%;\n  width: 80%;\n  border-radius: 45px;\n  border: 2px solid #fef15e;\n\n  @media (max-width: 760px) {\n    display: none;\n  }\n`\n\nexport const SplitBrk = styled.div`\n  height: 60px;\n`\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport { SplitContain, SplitRow, SplitTitle, SplitImg, SplitBrk } from '../elements/Split'\nimport Button from '../elements/Button'\n\nimport campaigns from '../../images/campaigns.jpg'\nimport campPreview from '../../images/campPreview.jpg'\nimport chatgif from '../../gif/chatgif.gif'\n\nconst Hero = styled.div`\n  display: flex;\n  height: 75vh;\n  justify-content: center;\n  align-items: center;\n  font-size: 2.5rem;\n  font-family: 'Montserrat Alternates', sans-serif;\n`\n\nclass Home extends React.Component {\n\n  componentDidMount = () => {\n    const userId = localStorage.getItem('user_id')\n    if (userId) this.props.history.push('/profile')\n  }\n\n  render() {\n\n    const width = '30%'\n\n    return (\n      <>\n        <Hero>Welcome to Volunteer.io</Hero>\n        <SplitContain>\n          <SplitRow>\n            <div>\n              <SplitTitle>Find a Campaign</SplitTitle>\n              <p>\n                Browse the best volunteer opportunities near you and even match with those looking for someone with your skills. Your community needs your help, what are you waiting for?\n              </p>\n              <Link to='/campaigns' style={{ textDecoration: 'none' }} ><Button width={width} label='Search Campaigns'/></Link>\n            </div>\n            <div>\n              <SplitImg src={campaigns} alt='' />\n            </div>\n          </SplitRow>\n          <SplitBrk/>\n          <SplitRow>\n            <div>\n              <SplitImg src={campPreview} alt=''/>\n            </div>\n            <div>\n              <SplitTitle>Manage a Campaign</SplitTitle>\n              <p>\n              Do you know of someone or a project in need of a few helping hands? Get a qualified team together and you can start making a difference today by starting and managing a campaign.\n              </p>\n              <Link to='/campaigns/new' style={{ textDecoration: 'none' }}><Button width={width} label='Start a Campaign' /></Link>\n            </div>\n          </SplitRow>\n          <SplitBrk/>\n          <SplitRow>\n            <div>\n              <SplitTitle>Connect With Teammates</SplitTitle>\n              <p>\n                Volunteers.io’s chat feature allows you to stay up to date with your team and share updates in real time.\n              </p>\n            </div>\n            <div>\n              <SplitImg src={chatgif} alt=''/>\n            </div>\n          </SplitRow>\n          <SplitBrk />\n        </SplitContain>\n      </>\n    )\n  }\n}\n\nexport default Home","import React from 'react'\nimport styled from 'styled-components'\n\nclass MessageBox extends React.Component {\n  \n  Wrapper = styled.div`\n    position: relative;\n    transform: ${() => this.props.isSelf ? 'scaleX(-1)' : 'none'};\n  `\n\n  Box = styled.div`\n    display: inline-block;\n    position: relative;\n    min-width: 200px;\n    margin: 10px 10px 10px 25px;\n    padding: 10px;\n    padding-top: ${() => this.props.isSelf ? '10px' : '5px'};\n    background-color: ${props => this.props.isSelf ? props.theme.accent : props.theme.background};\n    border-radius: 2px;\n    box-shadow: ${(props) => this.props.isSelf\n    ? `1px 2px 2px ${props.theme.name === 'light' ? '#ddd' : '#111'}`\n    : `-1px 2px 2px ${props.theme.name === 'light' ? '#ddd' : '#111'}`};\n    `\n\n  Accent = styled.div`\n    position: absolute;\n    top: 0;\n    left: -15px;\n    width: 20px;\n    height: 20px;\n    background-color: ${props => this.props.isSelf ? props.theme.accent : props.theme.background};\n    clip-path: polygon(100% 0, 0 0, 100% 100%);\n  `\n\n  AccentShadow = styled.div`\n    position: absolute;\n    top: 13px;\n    left: 10px;\n    width: 20px;\n    height: 20px;\n    background-color: ${props => props.theme.name === 'light' ? '#ddd' : '#111'};\n    clip-path: polygon(100% 0, 0 0, 100% 100%);\n    filter: blur(10px);\n  `\n\n  Name = styled.div`\n    font-size: 0.7rem;\n    color: palevioletred;\n    transform: ${() => this.props.isSelf ? 'scaleX(-1)' : 'none'};\n  `\n\n  Text = styled.p`\n    color: ${props => this.props.isSelf ? '#333' : props.theme.text};\n    font-size: 0.85rem;\n    font-weight: ${props => props.theme.fontWeight};\n    line-height: 1.2rem;\n    margin: 0;\n    width: 100%;\n    transform: ${() => this.props.isSelf ? 'scaleX(-1)' : 'none'};\n  `\n\n  Link = styled.a`\n    background-color: pink;\n    cursor: pointer;\n  `\n\n  linkMatch = /(http(s)?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g\n\n  interpolateLinks = line => {\n    // Get two arrays for plaintext and links\n    const links = line.match(this.linkMatch)\n    const plain = line.split(this.linkMatch).filter(res => res)\n    \n    const joined = links ? plain.concat(links.reverse()) : plain\n    const interpolated = []\n    // Determine first element to decide interpolation pattern\n    const startsPlain = line.startsWith(plain[0])\n    let getStart = startsPlain\n    while (joined.length > 0) {\n      if (getStart) interpolated.push(joined.shift())\n      else interpolated.push(joined.pop())\n      getStart = !getStart\n    }\n    return interpolated\n  }\n\n  getHref = address => {\n    return address.startsWith('http') ? address : `http://${address}`\n  }\n  \n  render() {\n    const { data, isSelf, prevMessage } = this.props\n    const { Wrapper, Accent, AccentShadow, Box, Text, Name, Link, linkMatch } = this\n    const consecutiveMessage = prevMessage\n      ? prevMessage.user.id === data.user.id : false\n    return (\n      <Wrapper consecutive={consecutiveMessage}>\n        <AccentShadow/>\n        <Box>\n          <Accent/>\n          {!isSelf && !consecutiveMessage && <Name>{data.user.username}</Name>}\n          {data.text.split('\\n').map((line, i) => {\n            const interpolated = this.interpolateLinks(line)\n            return <Text key={i}>{interpolated.map(frag => (\n              frag.match(linkMatch) ? <Link href={this.getHref(frag)} target=\"_blank\">{frag}</Link> : frag\n            ))}</Text>\n          })}\n        </Box>\n      </Wrapper>\n    )\n  }\n}\n\nexport default MessageBox","import React from 'react'\nimport styled from 'styled-components'\n\nimport MessageBox from './MessageBox'\n\nconst Wrapper = styled.section`\n  height: calc(100vh - 10rem - 55px);\n  overflow-y: scroll;\n  background-color: ${props => props.theme.panels};\n  scroll-behavior: ${props => props.historyLoaded ? 'smooth' : 'auto'};\n`\n\nconst ChatWindow = ({ messages, setRef, historyLoaded }) => {\n  const userID = Number(localStorage.getItem('user_id'))\n  return (\n    <Wrapper ref={ref => setRef(ref)} historyLoaded={historyLoaded}>\n      {messages.map((message, i) => <MessageBox key={i} prevMessage={messages[i - 1]} data={message} isSelf={message.user.id === userID} />)}\n    </Wrapper>\n  )\n}\n\nexport default ChatWindow","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: ${props => props.width};\n  margin: auto;\n`\n\nconst Input = styled.textarea`\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.text};\n  border-radius: 2px;\n  height: 4rem;\n  width: 100%;\n  font-size: 0.85rem;\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n  border: 1px solid ${props => props.theme.shadow};\n  padding: 8px 10px;\n  margin-bottom: -7px;\n  resize: none;\n  &:focus {\n    outline: none;\n  }\n  ::selection {\n    background-color: ${props => props.theme.primary};\n    color: #444;\n  }\n  `\n\nconst Label = styled.div`\nposition: absolute;\ntop: ${props => props.focus ? '.2px' : '0.8rem'};\ndisplay: ${props => props.focus ? 'none' : 'block'};\nleft: 11px;\ncolor: ${props => props.theme.text};\nfont-size: ${props => props.focus ? '0.7rem' : '1rem'};\nfont-weight: ${props => props.theme.fontWeight};\nletter-spacing: ${props => props.theme.letterSpacing};\npointer-events: none;\n`\n\nconst Highlight = styled.div`\n  height: ${props => props.focus ? '3px' : 0};\n  width: calc(100% - 2px);\n  background-color: ${props => props.theme.primary};\n  position: absolute;\n  bottom: 0;\n  left: 1px;\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  transition: all 0;\n`\n\n/** my oducmentation for this class */\nclass InputField extends React.Component {\n\n  /* Add docstring to say that returnValue and name must always be provided */\n\n  state = {\n    shiftPressed: 0,\n    focus: false\n  }\n\n  handleChange = event => {\n    this.props.returnValue({ name: this.props.name, value: event.target.value })\n  }\n  handleFocus = () => {\n    this.setState({ focus: true })\n  }\n  handleBlur = () => {\n    this.setState({ focus: false })\n  }\n  keyDown = event => {\n    if (event.keyCode === 16) this.setState({ shiftPressed: this.state.shiftPressed + 1 })\n    if (event.keyCode === 13 && !this.state.shiftPressed) {\n      this.props.submit(event)\n    }\n  }\n  keyUp = event => {\n    if (event.keyCode === 16) this.setState({ shiftPressed: this.state.shiftPressed - 1 })\n  }\n\n  render() {\n    const { focus } = this.state\n    const { name, value, width, returnValue, placeholder } = this.props\n    return (\n      <Wrapper width={width} onFocus={this.handleFocus} onBlur={this.handleBlur}>\n        <Input\n          ref={input => this.input = input}\n          name={name} value={value}\n          onChange={returnValue}\n          onKeyDown={this.keyDown}\n          onKeyUp={this.keyUp}\n        />\n        <Label focus={focus || value}>{placeholder}</Label>\n        <Highlight focus={focus} />\n      </Wrapper>\n    )\n  }\n}\n\nexport default InputField","import React from 'react'\nimport styled from 'styled-components'\nimport { Picker } from 'emoji-mart'\nimport icons from '../../lib/icons'\n\nconst Wrapper = styled.div`\n  background-color: ${props => props.theme.shadow};\n  height: 30px;\n  border-radius: 0 0 2px 2px;\n  padding: 1px;\n`\n\nconst Button = styled.button`\n  background-color: transparent;\n  border: none;\n  float: right;\n  &:hover {\n    background-color: #ddd;\n  }\n`\n\nconst IconSpan = styled.span`\n  display: inline-block;\n  transform: rotateZ(90deg);\n`\n\nconst EmojiPicker = styled.div`\n  display: ${props => props.show ? 'block' : 'none'};\n`\n\nconst ChatControl = ({ send, pickEmoji }) => {\n  const [showEmoji, setShowEmoji] = React.useState(false)\n  const toggleEmoji = () => setShowEmoji(!showEmoji)\n  return (\n    <Wrapper>\n      <Button position=\"right\" corner onClick={send}>\n        <IconSpan>{icons.send('#232323', 16)}</IconSpan>\n      </Button>\n      <Button position=\"right\" onClick={toggleEmoji}>\n        <span role=\"img\" aria-label=\"emoji menu\">😀</span>\n      </Button>\n      <EmojiPicker show={showEmoji} onBlur={toggleEmoji}>\n        <Picker onSelect={pickEmoji} />\n      </EmojiPicker>\n    </Wrapper>\n  )\n}\n\nexport default ChatControl","import React from 'react'\nimport styled from 'styled-components'\nimport icons from '../../lib/icons'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: 200px;\n  height: ${props => props.isHidden ? '40px' : '240px'};\n  background-color: ${props => `${props.theme.shadow}dd`};\n  border-radius: 2px;\n  border: 1px solid #999;\n  overflow-y: hidden;\n  transition: all 0.2s;\n`\n\nconst ListScroll = styled.div`\n  margin-top: 5px;\n  height: 245px;\n  overflow-y: scroll;\n`\n\nconst ItemDetail = styled.div`\n  height: 2.4rem;\n  line-height: 2.4rem;\n  font-size: 0.8rem;\n  text-align: center;\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.text};\n  margin: 0 0 5px 5px;\n  border-radius: 2px;\n`\n\nconst Title = styled.div`\n  text-align: center;\n  line-height: 30px;\n  padding-top: 5px;\n  color: #333;\n  font-size: 0.85rem;\n  ::selection {\n    background-color: transparent;\n  }\n  `\n\nconst Toggle = styled.div`\n  position: absolute;\n  top: 7px;\n  right: 15px;\n  transform: rotateZ(${props => props.isHidden ? '0deg' : '90deg'});\n  transition: all 0.2s;\n`\n\nclass List extends React.Component {\n\n  state = {\n    isHidden: true\n  }\n\n  toggleView = () => {\n    this.setState({ isHidden: !this.state.isHidden })\n    this.props.onToggle(this.props.title)\n  }\n\n  render() {\n    const { isHidden } = this.state\n    const { title, items } = this.props\n    return (\n      <Wrapper isHidden={isHidden}>\n        <Toggle isHidden={isHidden} onClick={this.toggleView}>{icons.right()}</Toggle>\n        <Title>{title}</Title>\n        <ListScroll>\n          {items.map((item, i) => <ItemDetail key={i} onClick={item.onClick}>{item.name}</ItemDetail>)}\n        </ListScroll>\n      </Wrapper>\n    )\n  }\n}\n\nexport default List","import React from 'react'\nimport styled from 'styled-components'\nimport 'emoji-mart/css/emoji-mart.css'\n\nimport { getSingleRoom, repeatUntilSuccess } from '../../lib/api'\n\nimport ChatWindow from '../elements/ChatWindow' \nimport InputArea from '../elements/InputArea'\nimport ChatControl from '../elements/ChatControl'\nimport List from '../elements/List'\n\n\nconst Wrapper = styled.div`\n  background-color: ${props => props.theme.panels};\n  padding-top: 5px;\n`\n\nconst ControlWrapper = styled.div`\n  background-color: ${props => props.theme.panels};\n  padding: 10px;\n`\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  align-items: center;\n  height: 3rem;\n  background-color: ${props => props.theme.shadow};\n  margin: 0 5px;\n  border-radius: 2px;\n  color: #333;\n`\n\nconst ListWrapper = styled.div`\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  z-index: 1;\n`\n\nclass Room extends React.Component {\n\n  state = {\n    name: '',\n    members: [],\n    messages: [],\n    draft: '',\n    historyLoaded: false\n  }\n\n  componentDidMount = () => {\n    this.getChatHistory()\n  }\n\n  connectToSocket = () => {\n    var wsScheme = window.location.protocol === 'https:' ? 'wss' : 'ws'\n    const domain = window.location.hostname === 'localhost' ? 'localhost:8000' : window.location.hostname\n    this.chatSocket = new WebSocket(\n      `${wsScheme}://${domain}/ws/chat/${this.props.match.params.room}/`\n    )\n\n    this.chatSocket.onmessage = (e) => {\n      const data = JSON.parse(e.data)\n      this.setState({ messages: [...this.state.messages, data.message] })\n      this.chatWindow.scrollTop = this.chatWindow.scrollHeight\n    }\n\n    this.chatSocket.onclose = () => console.error('Chat socket closed unexpectedly')\n  }\n\n  getChatHistory = async () => {\n    try {\n      const response = await repeatUntilSuccess(() => getSingleRoom(this.props.match.params.room))\n      const { name, members, messages } = response.data\n      this.setState({ name, members, messages }, () => {\n        this.chatWindow.scrollTop = this.chatWindow.scrollHeight\n        this.setState({ historyLoaded: true })\n      })\n      this.connectToSocket()\n    } catch (err) {\n      this.props.history.goBack()\n    }\n  }\n\n  sendMessage = event => {\n    event.preventDefault()\n    if (!this.state.draft) return\n    this.chatSocket.send(JSON.stringify({\n      'room_id': this.props.match.params.room,\n      'text': this.state.draft.trim(),\n      'user': localStorage.getItem('token')\n    }))\n    this.setState({ draft: '' })\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value })\n  }\n\n  pickEmoji = emoji => {\n    this.setState({ draft: this.state.draft + emoji.native })\n  }\n\n  render() {\n    const { name, messages, draft, historyLoaded } = this.state\n    const memberItems = this.state.members.map(volunteer => ({ name: volunteer.username, id: volunteer.id, onClick: () => console.log('user ' + volunteer.username) }))\n    return (\n      <Wrapper>\n        <Header>\n          {name}\n          <ListWrapper>\n            <List title=\"group members\" items={memberItems} onToggle={() => console.log('toggle list')}/>\n          </ListWrapper>\n        </Header>\n        <ChatWindow setRef={ref => this.chatWindow = ref} messages={messages} historyLoaded={historyLoaded}/>\n        <ControlWrapper>\n          <InputArea\n            width=\"100%\"\n            name=\"draft\" value={draft}\n            returnValue={this.handleChange}\n            submit={this.sendMessage}\n          />\n          <ChatControl send={this.sendMessage} pickEmoji={this.pickEmoji} />\n        </ControlWrapper>\n      </Wrapper>\n    )\n  }\n}\n\nexport default Room","import React from 'react'\nimport styled from 'styled-components'\nimport { Marker } from '@urbica/react-map-gl'\n\n\nclass Pin extends React.Component {\n\n  state = {\n    alt: false\n  }\n  \n  Wrapper = styled.div`\n    position: relative;\n    width: ${() => `${this.props.size}px`};\n    height: ${() => `${this.props.size}px`};\n    cursor: pointer;\n    top: ${() => `-${this.props.size - 2}px`};\n  `\n  Base = styled.div`\n    width: 100%;\n    height: 100%;\n    clip-path: circle();\n    background-color: ${() => this.props.color};\n  `\n  Point = styled.div`\n    background-color: ${() => this.props.color};\n    clip-path: polygon(50% 100%, 0% 0%, 100% 0%);\n    position: absolute;\n    top: 70%;\n    left: 5%;\n    width: 90%;\n    height: 65%;\n  `\n  Inner = styled.div`\n    position: absolute;\n    top: 10%;\n    left: 10%;\n    width: 80%;\n    height: 80%;\n    clip-path: circle();\n    background-color: ${() => this.state.alt && this.props.number > 0 ? this.props.color : '#f8f6f3'};\n  `\n  Dot = styled.div`\n    position: absolute;\n    top: 12.5%;\n    left: 12.5%;\n    width: 75%;\n    height: 75%;\n    background-color: ${() => this.props.color};\n    clip-path: circle();\n  `\n  Label = styled.div`\n    width: 100%;\n    background-color: transparent;\n    color: ${() => this.state.alt ? 'white' : '#333'};\n    font-size: ${() => `${this.props.size * 0.6}px`};\n    line-height: ${() => `${this.props.size * 0.8}px`};\n    font-family: 'Ubuntu Mono', monospace;\n    text-align: center;\n    font-weight: ${() => this.state.alt ? 400 : 700};\n  `\n\n  componentDidMount = () => {\n    this.setState({ alt: this.props.alt })\n  }\n\n  hoverPin = () => {\n    this.setState({ alt: !this.state.alt })\n  }\n\n  // Will need to move latlng to state if dragging allowed\n  dragPin = event => {\n    const latitude = event.lngLat[1]\n    const longitude = event.lngLat[0]\n    this.setState({ latitude, longitude })\n  }\n\n  render() {\n\n    const { latitude, longitude, number, id } = this.props\n    const { Wrapper, Base, Point, Inner, Dot, Label } = this\n    if (!latitude) return null\n\n    const zoomToPin = () => {\n      this.props.dblClickPin({ latitude, longitude, zoom: 15 })\n    }\n    const openDetails = () => {\n      this.props.clickPin(id)\n    }\n    \n    return (\n      <Marker\n        latitude={latitude}\n        longitude={longitude}\n        // draggable={draggable}\n        onClick={openDetails}\n        // onDrag={() => console.log('draggin pin..')}\n      >\n        <Wrapper onDoubleClick={zoomToPin} onMouseEnter={this.hoverPin} onMouseLeave={this.hoverPin}>\n          <Base/>\n          <Point/>\n          <Inner>\n            {number > 0 ? <Label>{number}</Label> : <Dot/>}\n          </Inner>\n        </Wrapper>\n      </Marker>\n    )\n  }\n}\n\nexport default Pin","export default ({ onMount }) => {\n  onMount()\n  return null\n}","import React from 'react'\n\nconst MapLoading = () => {\n  return (\n    <div style={{ textAlign: 'center', lineHeight: '100vh' }}>Map Loading</div>\n  )\n}\n\nexport default MapLoading","import React from 'react'\nimport MapGL from '@urbica/react-map-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nimport Pin from './Pin'\nimport MapHelper from './MapHelper'\nimport MapLoading from './MapLoading'\n\nconst Map = ({ setRef, pins, clickPin, flyTo }) => {\n  const [viewport, setViewport] = React.useState({ zoom: 1, latitude: 50, longitude: 0 })\n  const [mapReady, setMapReady] = React.useState(false)\n  // MapGL will only render child components once the tiles have loaded so\n  // we can use this to check when to stop displaying the loading screen\n  const onMapLoad = () => setMapReady(true)\n\n  React.useEffect(() => {\n    if (!flyTo) return\n    const { latitude, longitude, zoom } = flyTo\n    setViewport({ latitude, longitude, zoom: zoom + 10 })\n  }, [flyTo])\n\n  return (\n    <>\n      {!mapReady && <MapLoading/>}\n      <MapGL\n        ref={setRef}\n        mapStyle='mapbox://styles/mapbox/streets-v11'\n        style={{ width: '100%', height: mapReady ? '100%' : 0 }}\n        cursorStyle=\"default\"\n        accessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n        {...viewport}\n        viewportChangeMethod=\"flyTo\"\n        onViewportChange={setViewport}\n        doubleClickZoom={false}\n      >\n        <MapHelper onMount={onMapLoad} />\n        {pins && pins.map((pin, i) => (\n          <Pin key={i} {...pin} clickPin={clickPin} dblClickPin={setViewport} />\n        ))}\n      </MapGL>\n    </>\n  )\n}\n\nexport default Map","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: ${props => props.width};\n  margin: auto;\n`\n\nconst Input = styled.input`\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.text};\n  border-radius: 2px;\n  height: 3.1rem;\n  width: 100%;\n  font-size: 1rem;\n  border: 1px solid ${props => props.theme.shadow};\n  padding: calc(12px + 0.7rem) 10px 5px;\n  &:focus {\n    outline: none;\n  }\n  ::selection {\n    background-color: ${props => props.theme.primary};\n    color: #444;\n  }\n`\n  \nconst Label = styled.div`\n  position: absolute;\n  top: ${props => props.focus ? '6px' : '0.8rem'};\n  left: 11px;\n  color: ${props => props.theme.text};\n  font-size: ${props => props.focus ? '0.7rem' : '1rem'};\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n`\n\nconst Highlight = styled.div`\n  height: ${props => props.focus ? '3px' : 0};\n  width: calc(100% - 2px);\n  background-color: ${props => props.theme.primary};\n  position: absolute;\n  bottom: 1px;\n  left: 1px;\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  transition: all 0;\n`\n\nclass InputField extends React.Component {\n\n  state = {\n    focus: false\n  }\n\n  toggleFocus = () => {\n    this.setState({ focus: !this.state.focus })\n  }\n\n  render() {\n    const { focus } = this.state\n    const { label, width, geocoderProps } = this.props\n    const value = this.input ? this.input.value : ''\n    return (\n      <Wrapper width={width} onFocus={this.toggleFocus} onBlur={this.toggleFocus}>\n        <Input ref={input => this.input = input} {...geocoderProps} spellCheck=\"false\"  />\n        <Label focus={focus || value}>{label}</Label>\n        <Highlight focus={focus} />\n      </Wrapper>\n    )\n  }\n}\n\nexport default InputField","import React from 'react'\nimport styled from 'styled-components'\nimport GeocoderGL from 'react-mapbox-gl-geocoder'\n\nimport GeocoderInput from './GeocoderInput'\n\nconst Item = styled.div`\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.text};\n  padding: 10px;\n   &:hover {\n     background-color: ${props => props.theme.primary};\n     color: #333;\n   }\n`\n\nconst Geocoder = ({ width, onSelect, setRef }) => {\n  return (\n    <GeocoderGL\n      ref={ref => setRef(ref)}\n      viewport={{ true: 0 }} //this is just filler to stop errors\n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n      inputComponent={inputProps => (\n        <GeocoderInput width={width} label=\"Location\" geocoderProps={{ ...inputProps }} />)}\n      itemComponent={itemProps => <Item {...itemProps}/>}\n      updateInputOnSelect\n      onSelected={onSelect}\n      timeout={150}\n    />\n  )\n}\n\nexport default Geocoder","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  margin: 5px;\n  margin-right: 2px;\n  padding: 5px;\n  position: relative;\n  top: ${props => props.expanded ? `calc(-${props.position * 3.4}rem - ${props.position * 15}px)` : 0};\n  height: ${props => props.expanded ? 'calc(100% - 10px)' : 'calc(3.4rem + 10px)'};\n  opacity: ${props => props.visible ? 1 : 0};\n  transition: all 0.2s;\n\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  /* box-shadow: 1px 1px 1px ${props => props.theme.shadow}; */\n  font-size: 0.85rem;\n  line-height: 1.5rem;\n  color: ${props => props.theme.text};\n  font-weight: ${props => props.theme.fontWeight};\n  overflow-y: hidden;\n`\n\nconst Title = styled.div`\n  height: 4rem;\n  margin: -5px;\n  padding: 10px;\n`\n\nconst Body = styled.div`\n  position: relative;\n  margin: 10px 0;\n  padding: 15px;\n  height: calc(100% - 5.4rem - 20px);\n  background-color: ${props => props.theme.panels};\n  font-size: 0.7rem;\n`\n\nconst Open = styled.button`\n  float: right;\n  height: 2rem;\n  width: 100px;\n  border: 1px solid ${props => props.theme.primary};\n  border-radius: 2px;\n  color: ${props => props.theme.text};\n  background-color: ${props => props.theme.background};\n`\n\nconst ResultsItem = ({ visible, expanded, showDetails, id, position, name, description, signUp }) => {\n  return (\n    <Wrapper visible={visible} expanded={expanded} position={position}>\n      <Title onClick={() => showDetails(id)}>\n        {name}<br />skills list..\n      </Title>\n      <Body>\n        {description}\n      </Body>\n      <Open expanded={expanded} onClick={() => signUp(id)}>Sign Up</Open>\n    </Wrapper>\n  )\n}\n\nexport default ResultsItem","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\nimport icons from '../../lib/icons'\nimport ResultsItem from './ResultsItem'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: ${props => props.isHidden ? '40px' : 'calc(100vh - 9rem - 30px)'};\n  background-color: ${props => `${props.theme.background}e`};\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  overflow-y: hidden;\n  transition: all 0.2s;\n`\n\nconst ListScroll = styled.div`\n  position: relative;\n  margin-top: 5px;\n  height: calc(100% - 40px);\n  overflow-y: ${props => props.scroll ? 'scroll' : 'hidden'};\n`\n\nconst Title = styled.div`\n  text-align: left;\n  line-height: 30px;\n  padding-top: 5px;\n  padding-left: 10px;\n  color: ${props => props.theme.text};\n  font-size: 1rem;\n  font-weight: ${props => props.theme.fontWeight};\n  ::selection {\n    background-color: transparent;\n  }\n  `\n\nconst Toggle = styled.div`\n  position: absolute;\n  top: 7px;\n  right: 15px;\n  transform: rotateZ(${props => props.isHidden ? '0deg' : '90deg'});\n  transition: all 0.2s;\n`\n\nclass ResultsList extends React.Component {\n\n  state = {\n    isHidden: true,\n    resultShowingDetail: -1\n  }\n\n  componentDidUpdate = () => {\n    \n    if (this.props.resultShowingDetail !== this.state.resultShowingDetail) {\n      this.setState({ isHidden: false, resultShowingDetail: this.props.resultShowingDetail })\n    }\n  }\n\n  toggleView = () => {\n    this.setState({ isHidden: !this.state.isHidden })\n  }\n\n  showDetail = id => {\n    const resultShowingDetail = this.state.resultShowingDetail === id ? -1 : id\n    this.props.showDetail(resultShowingDetail)\n  }\n\n  render() {\n    const { isHidden, resultShowingDetail } = this.state\n    const { campaigns, signUp } = this.props\n\n    return (\n      <Wrapper isHidden={isHidden}>\n        <Toggle isHidden={isHidden} onClick={this.toggleView}>{icons.right(this.props.theme.text)}</Toggle>\n        <Title>Results</Title>\n        <ListScroll scroll={resultShowingDetail === -1}>\n          {campaigns && campaigns.map((campaign, i) => {\n            const expanded = campaign.id === resultShowingDetail\n            return (\n              <ResultsItem\n                key={i}\n                position={i}\n                {...campaign}\n                expanded={expanded}\n                visible={expanded || resultShowingDetail === -1}\n                showDetails={this.showDetail}\n                signUp={signUp}\n              />\n            )\n          })}\n        </ListScroll>\n      </Wrapper>\n    )\n  }\n}\n\nexport default withTheme(ResultsList)","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\n\nimport Map from '../map/Map'\nimport Geocoder from '../map/Geocoder'\nimport InputText from '../elements/InputText'\nimport ResultsList from '../elements/ResultsList'\n\nimport { getAllCampaigns, addPendVolunteer, repeatUntilSuccess } from '../../lib/api'\n\nconst Wrapper = styled.main`\n  position: relative;\n  height: calc(100vh - 3rem);\n  overflow: hidden;\n`\n\nconst SearchFields = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 350px;\n  z-index: 1;\n  > * { margin-bottom: 5px; }\n`\n\nexport const Notification = styled.div`\n  opacity: ${props => props.visible ? 1 : 0};\n  pointer-events: ${props => props.visible ? 'all' : 'none'};\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  height: calc(100vh - 3rem);\n  width: 100vw;\n  z-index: 10;\n  background-color: #aaaa;\n  transition: all 0.2s;\n`\n\nconst Message = styled.div`\n  position: absolute;\n  top: 100px;\n  width: 300px;\n  height: 150px;\n  background-color: ${props => props.theme.panels};\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  font-size: 0.85rem;\n  text-align: center;\n  padding: 15px;\n`\n\nconst Dismiss = styled.button`\n  height: 2rem;\n  width: 100px;\n  border: 1px solid ${props => props.theme.primary};\n  border-radius: 2px;\n  color: ${props => props.theme.text};\n  background-color: ${props => props.theme.background};\n`\n\nclass CampaignIndex extends React.Component {\n\n  state = {\n    campaigns: null,\n    filteredResults: null,\n    tags: '',\n    bounds: {\n      _ne: { lat: 90, lng: 180 },\n      _sw: { lat: -90, lng: -180 }\n    },\n    flyTo: null,\n    showNotification: false,\n    resultShowingDetail: -1\n  }\n\n  componentDidMount = async () => {\n    const response = await repeatUntilSuccess(getAllCampaigns)\n    const campaigns = response.data\n    this.setState({ campaigns }, this.getResults)\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value })\n  }\n\n  setMapRef = ref => {\n    this.map = ref\n    try {\n      this.map.getMap().on('moveend', this.getBounds)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  \n  setGeocoderInputRef = ref => {\n    this.geocoder = ref\n  }\n\n  getResults = () => {\n    if (!this.state.campaigns) return\n\n    const { campaigns, bounds } = this.state\n\n    const filteredResults = campaigns\n      // Filter by visible area of map\n      .filter(result => {\n        const inLat = result.latitude > bounds._sw.lat && result.latitude < bounds._ne.lat\n        const inLng = result.longitude > bounds._sw.lng && result.longitude < bounds._ne.lng\n        return inLat && inLng\n      })\n      // TODO Filter by tags\n      .map((result, i) => ({ ...result, color: '#222', size: 20, number: ++i }))\n    this.setState({ filteredResults })\n  }\n\n  getBounds = () => {\n    this.setState({ bounds: this.map.getMap().getBounds() }, this.getResults)\n  }\n\n  selectGeocoderItem = location => {\n    this.setState({ flyTo: location })\n  }\n\n  signUpToCampaign = async id => {\n    const userID = localStorage.getItem('user_id')\n    if (!userID) {\n      this.props.app.showNotification('please login to sign up')\n      return\n    }\n    await repeatUntilSuccess(() => addPendVolunteer(id))\n    this.setState({ showNotification: true })\n  }\n\n  dismissNotification = () => this.setState({ showNotification: false })\n\n  showDetail = id => {\n    this.setState({ resultShowingDetail: id })\n  }\n\n  render() {\n    const { filteredResults, tags, flyTo, showNotification, resultShowingDetail } = this.state\n    return (\n      <Wrapper>\n        <Notification visible={showNotification}>\n          <Message>\n            Thanks<br />\n            You&apos;ll be notified when the coordinators have approved you to join<br/><br/>\n            <Dismiss onClick={this.dismissNotification}>ok</Dismiss>\n          </Message>\n        </Notification>\n        <SearchFields>\n          <Geocoder onSelect={this.selectGeocoderItem} setRef={this.setGeocoderInputRef} />\n          <InputText name=\"tags\" label=\"Tags\" value={tags} returnValue={this.handleChange} />\n          <ResultsList campaigns={filteredResults} signUp={this.signUpToCampaign} showDetail={this.showDetail} resultShowingDetail={resultShowingDetail} />\n        </SearchFields>\n        <Map pins={filteredResults} flyTo={flyTo} setRef={this.setMapRef} clickPin={this.showDetail} />\n      </Wrapper>\n    )\n  }\n}\n\nexport default withTheme(CampaignIndex)","import React from 'react'\nimport styled from 'styled-components'\n\nconst Banner = styled.div`\n  background-image: url(${props => props.src});\n  height: 250px;\n  width: 100%;\n`\n\nconst BannerImage = ({ src, children }) => {\n  if (children) {\n    if (!children.length) children = [children]\n  }\n  const defaultSrc = 'https://mondrian.mashable.com/lead-img-anti-racist-curriculum.jpg'\n  return (\n    <Banner src={src ? src : defaultSrc}>\n      {children && children.map(component => component)}\n    </Banner>\n  )\n}\n\nexport default BannerImage\n\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport List from './List'\n\n\nconst Wrapper = styled.div`\n  overflow-y: hidden;\n  position: relative;\n  transition: all 0.3s;\n  height: ${props => {\n    if (props.open) return '290px'\n    if (props.show) return '45px'\n    return 0\n  }};\n  opacity: ${props => props.show ? 1 : 0};\n`\n\nclass MultiList extends React.Component {\n\n  state = {\n    openList: ''\n  }\n\n  onListToggle = listName => {\n    const openList = this.state.openList === listName ? '' : listName\n    this.setState({ openList })\n  }\n\n  render() {\n    const { openList } = this.state\n    const { containerStyle, lists } = this.props\n    return (\n      <div style={containerStyle}>\n        {lists.map((list, i) => (\n          <Wrapper key={i} position={i} show={!openList || openList === list.title} open={openList === list.title } >\n            <List key={i} title={list.title} items={list.items} onToggle={this.onListToggle} />\n            <div style={{ height: '5px' }}/> \n          </Wrapper>\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default MultiList","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  font-size: 0.85rem;\n  height: calc(4rem + 330px);\n  text-align: justify;\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  padding: 20px;\n  background-color: ${props => props.theme.panels};\n  color: ${props => props.theme.text};\n`\n\nconst Title = styled.div`\n  text-align: center;\n  font-weight: 600;\n  margin-top: 5px;\n  margin-bottom: 20px;\n  font-size: 1rem;\n`\n\nconst CampaignInfo = ({ campaignData }) => {\n\n\n\n  return (\n    <Wrapper>\n      <Title>{campaignData.name}</Title>\n      {campaignData.description}\n    </Wrapper>\n  )\n}\n\nexport default CampaignInfo","import React from 'react'\nimport styled from 'styled-components'\n\nimport { addCampaignNotice, deleteCampaignNotice } from '../../lib/api'\n\nimport ChatControl from '../elements/ChatControl'\nimport InputArea from '../elements/InputArea'\n\nconst Wrapper = styled.div`\n  width: 100%;\n`\n\nconst NoticeContain = styled.div`\n  display: flex;\n  flex-direction: column-reverse;\n  position: relative;\n  border: 1px solid ${props => props.theme.shadow};\n  border-bottom: ${props => props.showInput ? 'none' : ''};\n  background-color: ${props => props.theme.panels};\n  overflow-y: scroll;\n  overflow-x: hidden;\n  height: ${props => props.showInput ? '300px' : 'calc(4rem + 330px)'};\n`\n\nconst NoticeText = styled.div`\n  position: relative;\n  margin: 5px;\n  margin-right: 2px;\n  padding: 15px;\n  padding-bottom: calc(15px + 1rem);\n  background-color: ${props => props.theme.background};\n  font-style: italic;\n  color: ${props => props.theme.text};\n`\n\nconst NoticeDelete = styled.div`\n  position: absolute;\n  right: 10px;\n  bottom: 10px;\n  font-size: 0.7rem;\n  padding-top: 9px;\n  color: red;\n  cursor: pointer;\n`\n\nconst User = styled.div`\n  position: absolute;\n  right: calc(10px + 3rem);\n  bottom: 10px;\n  font-size: 0.7rem;\n  padding-top: 10px;\n  color: ${props => props.theme.text};\n`\n\nclass NoticeBox extends React.Component {\n  \n  state = {\n    campaignData: null,\n    noticeText: '',\n    notices: null\n  }\n\n  componentDidMount = () => {\n    this.loadData()\n  }\n\n  componentDidUpdate = () => {\n    if (this.props.campaignData.id !== this.state.campaignData.id) {\n      this.loadData()\n      if (this.noticeboard) this.noticeboard.scrollTop = -this.noticeboard.scrollHeight\n    }\n  }\n\n  loadData = () => {\n    const campaignData = { ...this.props.campaignData }\n    const notices = [...campaignData.campaign_notices]\n    this.setState({ campaignData, notices })\n  }\n\n  handleChange = event => {\n    const noticeText = event.target.value\n    this.setState({ noticeText })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const newNotice = {\n        text: this.state.noticeText,\n        campaign: this.state.campaignData.id\n      }\n      const response = await addCampaignNotice(newNotice)\n      const notices = [...this.state.notices]\n      notices.push(response.data)\n      this.setState({ noticeText: '', notices })\n      this.noticeboard.scrollTop = -this.noticeboard.scrollHeight\n    } catch (err) {\n      console.log(err.response.data)\n    }\n  }\n\n  handleDelete = async event => {\n    try {\n      await deleteCampaignNotice(event.target.id)\n      let notices = [...this.state.notices]\n      notices = notices.filter(notice => notice.id !== Number(event.target.id))\n      this.setState({ notices })\n    } catch (err) {\n      console.log(err.response.data)\n    }\n  }\n\n  render () {\n    const { campaignData, noticeText, notices } = this.state\n    if (!campaignData) return null\n\n    return (\n      <Wrapper>\n        <NoticeContain\n          ref={ref => {\n            if (ref) ref.scrollTop = -ref.scrollHeight\n            this.noticeboard = ref\n          }}\n          showInput={this.props.admin}\n        >\n          { notices.map(notice => (\n            <NoticeText key={notice.id}>\n              {notice.text}<br />\n              <User>{notice.owner.username}</User>\n              {this.props.admin && <NoticeDelete id={notice.id} onClick={this.handleDelete} >delete</NoticeDelete>}\n            </NoticeText>\n          ))}\n          <div style={{ height: '0px' }}>&nbsp;</div>\n        </NoticeContain>\n        {this.props.admin &&\n          <>\n            <InputArea width='100%' submit={this.handleSubmit} name='textArea' placeholder='Post a notice to the team' value={noticeText} returnValue={this.handleChange} />\n            <ChatControl send={this.handleSubmit} />\n          </>}\n      </Wrapper>\n    )\n  }\n}\n\nexport default NoticeBox\n","import React from 'react'\nimport styled from 'styled-components'\n\n\nconst ScheduleContainer = styled.div`\n  background-color: ${props => props.theme.panels};\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  margin-bottom: 15px;\n`\n\nconst Wrapper = styled.div`\n  position: relative;\n  margin: auto;\n  padding: 5px;\n  padding-left: calc(2rem + 5px);\n  width: calc(16rem + 20px);\n  height: calc(6rem + 20px);\n`\n\nconst Grid = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: 4rem;\n  width: 14rem;\n  border-radius: 2px;\n  background-color: ${props => props.theme.background};\n`\n\nconst Slot = styled.div`\n  width: 2rem;\n  height: 2rem;\n  border-top-left-radius: ${props => props.position === 0 ? '2px' : 0};\n  border-top-right-radius: ${props => props.position === 12 ? '2px' : 0};\n  border-bottom-left-radius: ${props => props.position === 1 ? '2px' : 0};\n  border-bottom-right-radius: ${props => props.position === 13 ? '2px' : 0};\n\n  background-color: ${props => props.active ? props.theme.primary : 'transparent'};\n`\n\nconst Label = styled.div`\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  border-radius: 2px;\n  font-size: 0.85rem;\n  text-align: center;\n  line-height: 2rem;\n  color: ${props => props.theme.text};\n`\n\nconst Time = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: calc(2rem + 5px);\n  left: 5px;\n  width: 2rem;\n  height: 2rem;\n  line-height: 2rem;\n  text-align: center;\n  color: ${props => props.theme.text};\n`\n\nclass Schedule extends React.Component {\n\n  state = {\n    slots: Array.from({ length: 14 }).fill(false)\n  }\n\n  handleClick = (position) => {\n    const slots = [...this.state.slots]\n    slots[position] = !slots[position]\n    this.setState({ slots })\n  }\n\n  render() {\n    const { schedule: slots, handleClick } = this.props\n    const days = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']\n\n    return (\n      <ScheduleContainer>\n        <Wrapper>\n          <Time>\n            {['am', 'pm'].map((time, i) => <Label key={i}>{time}</Label>)}\n          </Time>\n          {days.map((day, i) => <Label key={i}>{day}</Label>)}\n          <Grid>\n            {slots && slots.map((slot, i) => <Slot key={i} position={i} active={slot} onClick={handleClick ? () => handleClick(i) : null}/>)}\n          </Grid>\n        </Wrapper>\n      </ScheduleContainer>\n    )\n  }\n}\n\nexport default Schedule","import React from 'react'\nimport styled from 'styled-components'\n\nimport Schedule from './Schedule'\n\nconst Wrapper = styled.div`\n  margin: 5px;\n  margin-right: 2px;\n  position: relative;\n  height: ${props => props.expanded ? '19 rem' : '3rem'};\n  transition: all 0.2s;\n  background-color: ${props => props.isSelected ? 'lightgreen' : props.theme.panels};\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  font-size: 0.85rem;\n  line-height: 1.5rem;\n  color: ${props => props.isSelected ? '#333' : props.theme.text};\n  font-weight: ${props => props.theme.fontWeight};\n  overflow-y: hidden;\n`\n\nconst Header = styled.div`\n  display: flex;\n  height: 3rem;\n`\n\nconst Title = styled.div`\n  width: calc(100% - 120px);\n  line-height: 3rem;\n  padding-left: 15px;\n`\n\nconst Control = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 120px;\n`\n\nconst Button = styled.button`\n  width: 100%;\n  min-width: 60px;\n  height: 3rem;\n  border: none;\n  background-color: ${props => props.isSelected ? 'transparent' : props.theme.panels};\n  transition: all 0.2s;\n  &:hover {\n    background-color: ${props => props.color};\n  }\n  &:focus {\n    outline: none;\n  }\n`\n\nconst Body = styled.div`\n  padding: 5px 10px;\n  display: flex;\n  height: 8rem;\n`\n\nconst ProfilePic = styled.img`\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n`\n\nconst Details = styled.div`\n  margin: 0 15px;\n  p {\n    margin-bottom: 5px;\n    line-height: 1.5rem;\n  }\n`\n\nclass UserCard extends React.Component {\n\n  state = {\n    denyActive: false,\n    isSelected: false\n  }\n\n  clickDeny = () => {\n    if (!this.state.denyActive) {\n      this.setState({ denyActive: true }, () => {\n        this.clickInterval = setTimeout(() => this.setState({ denyActive: false }), 2000)\n      })\n    } else this.props.deny(this.props.user.id)\n  }\n\n  clickSelect = () => {\n    this.props.select(this.props.user.id)\n    this.setState({ isSelected: !this.state.isSelected })\n  }\n\n  componentWillUnmount = () => {\n    clearInterval(this.clickInterval)\n  }\n\n  render() {\n    const { user, confirm, showDetail, expanded, pending } = this.props\n    const { denyActive, isSelected } = this.state\n\n    const schedule = Array.from({ length: 14 }).fill(false)\n    user.user_shifts.forEach(shift => schedule[shift.id - 1] = true)\n\n    return (\n      <Wrapper expanded={expanded} isSelected={isSelected} >\n        <Header>\n          <Title fullWidth={!pending} onClick={() => showDetail(user.id)}>{user.username}</Title>\n          <Control>\n            {this.props.confirm && <Button color=\"#afa\" onClick={() => confirm(user.id)}>accept</Button>}\n            {this.props.deny && <Button color={denyActive ? '#f55' : '#faa'} onClick={this.clickDeny}>{denyActive ? 'sure?' : 'deny'}</Button>}\n            {this.props.select && <Button isSelected={isSelected} onClick={this.clickSelect}>{isSelected ? 'deselect' : 'select'}</Button>}\n          </Control>\n        </Header>\n        <Body>\n          <ProfilePic src={user.profile_image} />\n          <Details>\n            <p>{user.first_name} {user.last_name}</p>\n            <p>{user.user_skills.map(skill => skill.name).join(', ')}</p>\n          </Details>\n        </Body>\n        <div style={{ margin: '5px auto', width: 'calc(100% - 10px)' }}>\n          <Schedule schedule={schedule} />\n        </div>\n      </Wrapper>\n    )\n  }\n}\n\nexport default UserCard","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\n\nimport icons from '../../lib/icons'\nimport UserCard from './UserCard'\n\nconst Wrapper = styled.div`\n  position: relative;\n  overflow-y: hidden;\n  width: 100%;\n  height: ${props => {\n    if (props.open) return '100%'\n    if (props.show) return '45px'\n    return 0\n  }};\n  margin-bottom: ${props => props.show && !props.open ? '5px' : 0};\n  opacity: ${props => props.show ? 1 : 0};\n  background-color: ${props => `${props.theme.background}e`};\n  border-radius: 2px;\n  border-width: ${props => props.show ? '1px' : 0};\n  border-style: solid;\n  border-color: ${props => props.theme.shadow};\n  transition: all 0.2s;\n`\n\nconst ListScroll = styled.div`\n  position: relative;\n  margin-top: 10px;\n  height: calc(100% - 50px);\n  overflow-y: scroll;\n`\n\nconst Title = styled.div`\n  text-align: left;\n  line-height: 30px;\n  padding-top: 5px;\n  padding-left: 10px;\n  color: ${props => props.theme.text};\n  font-size: 1rem;\n  font-weight: ${props => props.theme.fontWeight};\n  ::selection {\n    background-color: transparent;\n  }\n  `\n\nconst Toggle = styled.div`\n  position: absolute;\n  top: 7px;\n  right: 15px;\n  transform: rotateZ(${props => props.isHidden ? '0deg' : '90deg'});\n  transition: all 0.2s;\n`\n\nclass VolunteerList extends React.Component {\n\n  state = {\n    isHidden: true,\n    userShowingDetail: -1\n  }\n\n  toggleView = () => {\n    this.setState({ isHidden: !this.state.isHidden })\n    this.props.onToggle(this.props.list.label)\n  }\n\n  showDetail = id => {\n    const userShowingDetail = this.state.userShowingDetail === id ? -1 : id\n    this.setState({ userShowingDetail })\n  }\n\n  render() {\n    const { isHidden, userShowingDetail } = this.state\n    const { list, actions, theme, openList } = this.props\n    \n    const open = openList === list.label\n    const show = !openList || open\n\n    return (\n      <Wrapper open={open} show={show} isHidden={isHidden}>\n        <Toggle isHidden={isHidden} onClick={this.toggleView}>{icons.right(theme.text)}</Toggle>\n        <Title>{list.label}</Title>\n        <ListScroll scroll={userShowingDetail === -1}>\n          {list.users && list.users.map((user, i) => (\n            <UserCard\n              key={i}\n              user={user}\n              expanded={user.id === userShowingDetail}\n              showDetail={this.showDetail}\n              select={list.label === 'volunteers' && actions.selectVolunteer}\n              confirm={list.label === 'pending' && actions.confirmVolunteer}\n              deny={list.label === 'pending' && actions.denyVolunteer}\n            />\n          ))}\n        </ListScroll>\n      </Wrapper>\n    )\n  }\n}\n\nexport default withTheme(VolunteerList)","import React from 'react'\n\nimport VolunteerList from './VolunteerList'\n\nconst MultiListVolunteer = ({ lists, actions }) => {\n  const [openList, setOpenList] = React.useState('')\n  const toggleList = listName => {\n    setOpenList(listName === openList ? '' : listName)\n  }\n  return lists.map((list, i) => (\n    <VolunteerList key={i} openList={openList} actions={actions} list={list} onToggle={toggleList} />))\n}\n\nexport default MultiListVolunteer","import React from 'react'\nimport Select from 'react-select'\nimport styled, { withTheme } from 'styled-components'\n\nimport Schedule from './Schedule'\nimport InputText from '../elements/InputText'\n\nimport { getAllSkills } from '../../lib/api'\n\nconst Wrapper = styled.div`\n  height: 100%;\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  padding: 10px;\n  text-align: center;\n  \n  > * {\n    margin: 10px auto;\n  }\n`\n\nconst Title = styled.div`\n  font-size: 1rem;\n  font-weight: 600;\n  margin-top: 20px;\n  margin-bottom: 20px;\n`\n\nconst CheckBox = styled.div`\n  text-align: right;\n  > * { margin-right: 15px }\n`\n\nclass FilterVolunteers extends React.Component {\n\n  state = {\n    skillsOptions: null\n  }\n\n  componentDidMount = () => {\n    this.getSkills()\n  }\n\n  getSkills = async () => {\n    const response = await getAllSkills()\n    const skillsOptions = response.data.map(skill => ({ value: skill.id, label: skill.name }))\n    this.setState({ skillsOptions })\n  }\n\n  render() {\n    const { schedule, skills, selectSchedule, selectSkills, selectStrict, strictSkills, strictSchedule, groupName, editGroupName } = this.props\n    const { skillsOptions } = this.state\n\n    const selectStyles = {\n      control: styles => ({\n        ...styles,\n        backgroundColor: this.props.theme.background,\n        borderRadius: '2px',\n        borderColor: this.props.theme.shadow,\n        height: '5rem'\n      }),\n      singleValue: (styles) => ({\n        ...styles,\n        color: this.props.theme.text,\n        fontWeight: this.props.theme.fontWeight,\n        letterSpacing: this.props.theme.letterSpacing,\n        fontSize: '0.85rem'\n      })\n    }\n\n    return (\n      <Wrapper>\n        <Title>Organise Volunteers</Title>\n        <p>show volunteers with these skills</p>\n        <Select styles={selectStyles} value={skills} options={skillsOptions} onChange={selectSkills} isMulti />\n        <CheckBox>\n          <label htmlFor=\"strictSkills\">All</label>\n          <input type=\"checkbox\" id=\"strictSkills\" checked={strictSkills} onClick={selectStrict}/>\n        </CheckBox>\n        <p>show volunteers available on</p>\n        <Schedule schedule={schedule} handleClick={selectSchedule} />\n        <CheckBox>\n          <label htmlFor=\"strictSchedule\">All</label>\n          <input type=\"checkbox\" id=\"strictSchedule\" checked={strictSchedule} onClick={selectStrict}/>\n        </CheckBox>\n        <InputText label=\"group name\" name=\"groupName\" value={groupName} returnValue={editGroupName} />\n      </Wrapper>\n    )\n  }\n}\n\nexport default withTheme(FilterVolunteers)","import React from 'react'\nimport styled from 'styled-components'\nimport { withRouter } from 'react-router-dom'\n\nimport { confirmVolunteer, removeVolunteer, createRoom } from '../../lib/api'\n\nimport Button from '../elements/Button'\nimport MultiListVolunteer from '../elements/MultiListVolunteers'\nimport FilterVolunteers from '../elements/FilterVolunteers'\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-evenly;\n  height: 600px;\n\n  > * {\n    position: relative;\n    height: 100%;\n  }\n`\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  position: absolute;\n  bottom: 10px;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 10px;\n`\n\nclass AdminPanel extends React.Component {\n\n  state = {\n    campaignID: null,\n    volunteers: null,\n    filteredVolunteers: null,\n    pendingVolunteers: null,\n    skills: [],\n    schedule: Array.from({ length: 14 }).fill(false),\n    strictSkills: true,\n    strictSchedule: true,\n    selectedVolunteers: [],\n    groupName: ''\n  }\n\n  componentDidMount = () => {\n    this.getCampaignData() \n  }\n\n  componentDidUpdate = () => {\n    if (this.state.campaignID !== this.props.campaignData.id) this.getCampaignData()\n  }\n\n  getCampaignData = () => {\n    const { id, owner, coordinators, conf_volunteers: volunteers, pend_volunteers: pendingVolunteers } = this.props.campaignData\n    this.setState({\n      campaignID: id,\n      volunteers: [owner, ...coordinators, ...volunteers],\n      filteredVolunteers: [owner, ...coordinators, ...volunteers],\n      pendingVolunteers\n    })   \n  }\n\n  selectSchedule = slot => {\n    const schedule = [...this.state.schedule]\n    schedule[slot] = !schedule[slot]\n    this.setState({ schedule }, this.filterVolunteers)\n  }\n\n  selectSkills = selected => {\n    this.setState({ skills: selected }, this.filterVolunteers)\n  }\n\n  filterVolunteers = () => {\n    const { volunteers, schedule, skills, strictSchedule, strictSkills } = this.state\n\n    const isAvailableAll = user => (\n      schedule.every((slot, i) => !slot || user.user_shifts.some(shift => shift.id - 1 === i))\n    )\n    const isAvailableAny = user => {\n      if (schedule.every(slot => !slot)) return true\n      return user.user_shifts.some(shift => schedule[shift.id - 1])\n    }\n    const hasSkillsAll = user => {\n      if (!skills || !skills.length) return true\n      return skills.every(skill => user.user_skills.some(userSkill => userSkill.id === skill.value))\n    }\n    const hasSkillsAny = user => {\n      if (!skills || !skills.length) return true\n      return user.user_skills.some(userSkill => skills.some(skill => skill.value === userSkill.id))\n    }\n\n    const filteredVolunteers = volunteers\n      .filter(volunteer => strictSchedule ? isAvailableAll(volunteer) : isAvailableAny(volunteer))\n      .filter(volunteer => strictSkills ? hasSkillsAll(volunteer) : hasSkillsAny(volunteer))\n    \n    this.setState({ filteredVolunteers })\n  }\n\n  selectStrict = (event) => {\n    this.setState({ [event.target.id]: event.target.checked }, this.filterVolunteers)\n  }\n\n  editGroupName = (event) => {\n    this.setState({ [event.target.name]: event.target.value })\n  }\n\n  selectVolunteer = id => {\n    let selectedVolunteers = [...this.state.selectedVolunteers]\n    if (selectedVolunteers.includes(id)) selectedVolunteers = selectedVolunteers.filter(vol => vol !== id)\n    else selectedVolunteers.push(id)\n    this.setState({ selectedVolunteers })\n  }\n\n  createNewGroup = async () => {\n    const { groupName, selectedVolunteers, campaignID } = this.state\n    if (!groupName || selectedVolunteers.length === 0) return\n    const userID = Number(localStorage.getItem('user_id'))\n    if (!selectedVolunteers.includes(userID)) selectedVolunteers.unshift(userID)\n    const formData = {\n      name: groupName,\n      members: selectedVolunteers,\n      campaign: campaignID\n    }\n    \n    const response = await createRoom(formData)\n    if (response.status === 201) {\n      this.props.history.push(`/chat/${response.data.id}`)\n    }\n  }\n\n  confirmVolunteer = async volunteerID => {\n    try {\n      await confirmVolunteer(this.state.campaignID, volunteerID)\n      const confirmedVolunteer = this.state.pendingVolunteers.find(volunteer => volunteer.id === volunteerID)\n      const volunteers = [...this.state.volunteers, confirmedVolunteer]\n      const pendingVolunteers = this.state.pendingVolunteers.filter(volunteer => volunteer !== confirmedVolunteer)\n      this.setState({ volunteers, pendingVolunteers }, this.filterVolunteers)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  denyVolunteer = async volunteerID => {\n    try {\n      await removeVolunteer(this.state.campaignID, volunteerID)\n      const pendingVolunteers = this.state.pendingVolunteers.filter(volunteer => volunteer.id !== volunteerID)\n      this.setState({ pendingVolunteers })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  volunteerActions = {\n    selectVolunteer: this.selectVolunteer,\n    confirmVolunteer: this.confirmVolunteer,\n    denyVolunteer: this.denyVolunteer\n  }\n\n  render() {\n    const {\n      filteredVolunteers,\n      pendingVolunteers,\n      skills,\n      schedule,\n      strictSkills,\n      strictSchedule,\n      groupName\n    } = this.state\n\n    const volunteerLists = [\n      { label: 'pending', users: pendingVolunteers },\n      { label: 'volunteers', users: filteredVolunteers }\n    ]\n\n    return (\n      <Wrapper>\n        <div style={{ width: '360px' }}>\n          <MultiListVolunteer lists={volunteerLists} actions={this.volunteerActions} />\n        </div>\n        <div style={{ width: 'calc(100% - 420px)' }}>\n          <FilterVolunteers\n            skills={skills}\n            schedule={schedule}\n            selectSkills={this.selectSkills}\n            selectSchedule={this.selectSchedule}\n            strictSkills={strictSkills}\n            strictSchedule={strictSchedule}\n            selectStrict={this.selectStrict}\n            groupName={groupName}\n            editGroupName={this.editGroupName}\n          />\n          <ButtonGroup>\n            <Button width=\"calc(50% - 5px)\" label=\"select all\" />\n            <div style={{ width: '5px' }} />\n            <Button width=\"calc(50% - 5px)\" primary label=\"create group\" onClick={this.createNewGroup} />\n          </ButtonGroup>\n        </div>\n      </Wrapper>\n    )\n  }\n}\n\nexport default withRouter(AdminPanel)","import React from 'react'\nimport styled from 'styled-components'\n\nimport { getSingleCampaign, repeatUntilSuccess } from '../../lib/api'\n\nimport BannerImage from '../elements/BannerImage'\nimport MultiList from '../elements/MultiList'\nimport CampaignInfo from '../elements/CampaignInfo'\nimport NoticeBox from '../elements/NoticeBox'\nimport AdminPanel from './AdminPanel'\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: ${props => props.theme.background};\n  position: relative;\n  color: ${props => props.theme.text};\n  height: calc(100vh - 3rem);\n  overflow-y: scroll;\n  padding-bottom: 30px;\n`\n\nconst MainContent = styled.div`\n  display: flex;\n`\n\nclass CampaignShow extends React.Component {\n\n  state = {\n    campaignData: null,\n    members: null,\n    rooms: null,\n    admin: false\n  }\n  \n  componentDidMount = () => {\n    this.getCampaign()\n  }\n\n  componentDidUpdate = prevProps => {\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.getCampaign()\n    }\n  }\n\n  getCampaign = async () => {\n    try {\n      // Get campaign data and set filtered volunteer list to be all members\n      const response = await repeatUntilSuccess(() => getSingleCampaign(this.props.match.params.id))\n      const campaignData = response.data\n      this.setState({ campaignData })\n      // Format rooms to be usuable by list component\n      const roomItems = campaignData.message_rooms.filter(room => {\n        const userID = Number(localStorage.getItem('user_id'))\n        return room.members.includes(userID)\n      }).map(room => ({ name: room.name, id: room.id, onClick: () => this.openChatRoom(room.id) }))\n      const rooms = { title: 'groups', items: roomItems }\n      // Format members for the same purpose\n      const allMembers = [ campaignData.owner, ...campaignData.coordinators, ...campaignData.conf_volunteers ]\n      const memberItems = allMembers.map(volunteer => ({ name: volunteer.username, id: volunteer.id, onClick: () => console.log('user ' + volunteer.username) }))\n      const members = { title: 'members', items: memberItems }\n      this.setState({ rooms, members })\n      this.setState({ admin: this.isAdmin() })\n    } catch (err) {\n      // Go back a page if user is not authorized to view the page\n      console.log(err.response)\n      this.props.history.goBack()\n    }\n  }\n\n  openChatRoom = roomID => {\n    this.props.history.push(`/chat/${roomID}`)\n  }\n\n  isAdmin = () => {\n    const { campaignData } = this.state\n    const userId = Number(localStorage.getItem('user_id'))\n    const isOwner = campaignData.owner.id === userId\n    const isCoord = campaignData.coordinators.includes(userId)\n    return isOwner || isCoord\n  }\n\n  \n  render() {\n    \n    const multiListStyle = {\n      position: 'absolute',\n      top: '5px',\n      right: '5px'\n    }\n\n    const { campaignData, members, rooms, admin } = this.state\n    if (!campaignData || !members || !rooms) return null\n\n    return (\n      <Wrapper>\n        <div>\n          <BannerImage />\n        </div>\n        <MultiList containerStyle={multiListStyle} lists={[members, rooms]}/>\n        <MainContent>\n          <div style={{ width: '400px', height: '100%', padding: '20px', fontSize: '0.85rem', textAlign: 'justify' }}>\n            <CampaignInfo campaignData={campaignData}/>\n          </div>\n          <div style={{ width: 'calc(100% - 400px)', padding: '20px', paddingLeft: 0 }}>\n            <NoticeBox campaignData={campaignData} admin={admin} />\n          </div>\n        </MainContent>\n        {admin && <AdminPanel campaignData={campaignData} />}\n      </Wrapper>\n    )\n  }\n}\n\nexport default CampaignShow","import React from 'react'\nimport styled from 'styled-components'\n\nimport BannerImage from '../elements/BannerImage'\nimport InputText from '../elements/InputText'\nimport InputArea from '../elements/InputArea'\nimport Button from '../elements/Button'\nimport Geocoder from '../map/Geocoder'\nimport Map from '../map/Map'\n\nimport { createCampaign } from '../../lib/api' \n\nconst Wrapper = styled.div`\n  height: calc(100vh - 3rem);\n  overflow-y: scroll;\n  background-color: ${props => props.theme.panels};\n`\n\nconst Form = styled.div`\n  /* display: flex; */\n  /* flex-direction: column; */\n  /* align-items: center; */\n  margin: 0 auto;\n  width: calc(100vw - 40px);\n  max-width: 500px;\n  height: 800px;\n  > * { margin-top: 10px; }\n`\n\nconst GeoWrapper = styled.div`\n  position: relative;\n  width: calc(100vw - 40px);\n  max-width: 500px;\n`\n\nconst MapContain = styled.div`\n  width: 100%;\n  height: calc(100vw - 40px);\n  max-height: 500px;\n  margin: 10px auto 20px;\n`\n\nclass CampaignCreate extends React.Component{\n  state = {\n    formData: {\n      name: '',\n      volunteer_count: null,\n      description: '',\n      latitude: '',\n      longitude: '',\n      start_date: null\n    },\n    flyTo: null\n  }\n\n  componentDidMount = () => {\n    if (!localStorage.getItem('user_id')) this.props.history.push('/campaigns')\n  }\n\n  setMapRef = ref => {\n    this.map = ref\n  }\n\n  selectGeocoderItem = location => {\n    const formData = {\n      ...this.state.formData,\n      latitude: location.latitude,\n      longitude: location.longitude\n    }\n    this.setState({ flyTo: location, formData })\n  }\n\n  setGeocoderInputRef = ref => {\n    this.geocoder = ref\n  }\n\n  handleChange = event => {\n    const formData = {\n      ...this.state.formData,\n      [event.target.name]: event.target.value\n    }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async () => {\n    try {\n      const response = await createCampaign(this.state.formData)\n      const newCampaignId = response.data.id\n      this.props.history.push(`/campaigns/${newCampaignId}`)\n    } catch (err) {\n      console.log(err.response.data)\n    }\n  }\n\n  showWidget = () => {\n    const widget = window.cloudinary.createUploadWidget(\n      { \n        cloudName: 'dmhj1vjdf',\n        uploadPreset: 'jisx4gi0',\n        showUploadMoreButton: false\n      },\n      (error, result) => {\n        if (!error && result && result.event === 'success') { \n          const pendingUserData = { ...this.state.pendingUserData, profile_image: result.info.url }\n          this.setState({ pendingUserData })\n        }\n      })\n    widget.open()\n  }\n\n  render(){\n\n    const { name, volunteer_count, description, start_date } = this.state.formData\n\n    return (\n      <Wrapper>\n        <BannerImage style={{ height: '150px' }}/>\n        <Form>\n          <InputText width=\"100%\" label='Give your campaign a name' name='name' value= {name} returnValue={this.handleChange} />\n          <InputText width=\"100%\" type='number' label='How many volunteers will you need?' name='volunteer_count' value={volunteer_count} returnValue={this.handleChange} />\n          <InputArea width=\"100%\" name='description' value={description} returnValue={this.handleChange} placeholder='Give your campaign a description' submit={() => null}/>\n          <InputText width=\"100%\" type='datetime-local' label='When does your campaign start?' name='start_date' value={start_date} returnValue={this.handleChange} />\n          <GeoWrapper>\n            <Geocoder onSelect={this.selectGeocoderItem} setRef={this.setGeocoderInputRef} />\n          </GeoWrapper>\n          <MapContain>\n            <Map setRef={this.setMapRef} flyTo={this.state.flyTo}/>\n          </MapContain>\n          <div style={{ position: 'fixed', bottom: '25px', right: '25px', zIndex: 2 }}>\n            <Button width=\"10rem\" label='Save our campaign' onClick={this.handleSubmit}/>\n          </div>\n          <div style={{ position: 'fixed', bottom: '85px', right: '25px', zIndex: 2 }}>\n            <Button width=\"10rem\" label='Change banner image' onClick={this.showWidget}/>\n          </div>\n        </Form>\n      </Wrapper>\n    )\n  }\n}\n\nexport default CampaignCreate","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\nimport Select from 'react-select'\n\nimport BannerImage from '../elements/BannerImage'\n// import Button from '../elements/Button'\nimport InputText from '../elements/InputText'\nimport { SplitContain, SplitRow } from '../elements/Split'\nimport { getSingleProfile, updateProfile, getAllSkills, updateProfileShifts, updateProfileSkills, repeatUntilSuccess } from '../../lib/api'\nimport Schedule from '../elements/Schedule'\n\nimport icons from '../../lib/icons'\n\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: calc(100vh - 3rem);\n  overflow-y: scroll;\n  background-color: ${props => props.theme.background};\n  padding-bottom: 30px;\n`\n\nconst ProfilePic = styled.img`\n  position: absolute;\n  top: 50px;\n  left: 100px;\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n  border: 2px solid ${props => props.theme.panels};\n`\n\nconst EditPic = styled.img`\n  position: absolute;\n  bottom: -130px;\n  left: 30px;\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  border: 1px solid ${props => props.theme.shadow};\n`\n\nconst EditPicButton = styled.button`\n  padding: 0;\n  padding-bottom: 2px;\n  position: absolute;\n  bottom: -70px;\n  left: 25px;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  border: 1px solid ${props => props.theme.shadow};\n`\n\nconst Section = styled.div`\n  position: relative;\n  height: 450px;\n  padding: 20px;\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  color: ${props => props.theme.text};\n  background-color: ${props => props.theme.panels};\n`\n\nconst PageTitle = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 30px 0;\n  text-align: center;\n  color: ${props => props.theme.text};\n`\n\nconst SectionTitle = styled.div`\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin-bottom: 30px;\n`\n\nconst Button = styled.button`\n  position: absolute;\n  bottom: 10px;\n  right: ${props => `${props.position * 120 + 20}px`};\n  width: 100px;\n  padding: 10px;\n  border-radius: 2px;\n  border: 2px solid ${props => props.theme.primary};\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.text};\n`\n\nconst EditForm = styled.div`\n  position: relative;\n  > * {\n    margin: 5px 0;\n  }\n`\n\nclass Profile extends React.Component {\n  \n  state = {\n    userData: null,\n    pendingUserData: null,\n    skills: null,\n    formData: {\n      user_skills: null,\n      schedule: Array.from({ length: 14 }).fill(false)\n    },\n    editMode: false,\n    newPic: null\n  }\n\n  componentDidMount = async () => {\n    this.getProfile()\n    this.getSkills()\n  }\n  \n  getProfile = async () => {\n    const userID = localStorage.getItem('user_id')\n    const response = await repeatUntilSuccess(() => getSingleProfile(userID))\n    \n    const { username, first_name, last_name, email, phone, profile_image, user_skills } = response.data\n    const userData = { username, first_name, last_name, email, phone, profile_image }\n    \n    const schedule = [...this.state.formData.schedule]\n    if (response.data.user_shifts) {\n      response.data.user_shifts.forEach(shift => schedule[shift.id - 1] = true)\n    }\n    const formData = { user_skills, schedule }\n    \n    this.setState({ userData, pendingUserData: userData, formData }, () => console.log(this.state.formData)) \n  }\n\n  showWidget = () => {\n    const widget = window.cloudinary.createUploadWidget(\n      { \n        cloudName: 'dmhj1vjdf',\n        uploadPreset: 'jisx4gi0',\n        showUploadMoreButton: false\n      },\n      (error, result) => {\n        if (!error && result && result.event === 'success') { \n          const pendingUserData = { ...this.state.pendingUserData, profile_image: result.info.url }\n          this.setState({ pendingUserData })\n        }\n      })\n    widget.open()\n  }\n\n  handleEditMode = () => {\n    this.setState({ editMode: !this.state.editMode })\n  }\n\n  handleEditChange = (event) => {\n    const pendingUserData = {\n      ...this.state.pendingUserData,\n      [event.target.name]: event.target.value\n    }\n    this.setState({ pendingUserData })\n  }\n\n  saveEdits = async () => {\n    try {\n      const userID = localStorage.getItem('user_id')\n      await repeatUntilSuccess(() => updateProfile(userID, this.state.pendingUserData))\n      this.setState({ userData: this.state.pendingUserData })\n      this.handleEditMode()\n      this.props.app.showNotification('your profile has been updated')\n    } catch (err) {\n      console.log(err.response.data)\n    }\n  }\n\n  discardEdits = () => {\n    this.setState({ pendingUserData: this.state.userData })\n    this.handleEditMode()\n  }\n\n  getSkills = async () => {\n    const response = await repeatUntilSuccess(() => getAllSkills())\n    const skills = response.data.map(skill => ({ value: skill.id, label: skill.name }))\n    this.setState({ skills })\n  }\n\n  editSchedule = slot => {\n    const schedule = [...this.state.formData.schedule]\n    schedule[slot] = !schedule[slot]\n    const formData = { ...this.state.formData, schedule }\n    this.setState({ formData })\n  }\n\n  editSkills = skills => {\n    const user_skills = skills\n      ? skills.map(skill => ({ id: skill.value, name: skill.label }))\n      : []\n    const formData = { ...this.state.formData, user_skills }\n    this.setState({ formData })\n  }\n\n  saveShiftsSkills = async () => {\n    console.log( this.state.formData )\n    try {\n      const userID = localStorage.getItem('user_id')\n      const shiftResponse = await repeatUntilSuccess(() => updateProfileShifts(userID, { 'schedule': this.state.formData.schedule }))\n      const skillIds = this.state.formData.user_skills.map(skill => skill.id)\n      const skillsResponse = await repeatUntilSuccess(() => updateProfileSkills(userID, { 'user_skills': skillIds }))\n      console.log(shiftResponse.data.message, skillsResponse.data.message)\n      this.props.app.showNotification('your preferences have been updated')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    // const { app } = this.props\n    const { userData, pendingUserData, skills, editMode, formData } = this.state\n    const { schedule } = this.state.formData\n\n    const selectStyles = {\n      control: styles => ({\n        ...styles,\n        backgroundColor: this.props.theme.background,\n        borderRadius: '2px',\n        borderColor: this.props.theme.shadow,\n        height: '5rem'\n      }),\n      singleValue: (styles) => ({\n        ...styles,\n        color: this.props.theme.text,\n        fontWeight: this.props.theme.fontWeight,\n        letterSpacing: this.props.theme.letterSpacing,\n        fontSize: '0.85rem'\n      })\n    }\n\n    if (!userData) return null\n    console.log(userData.profile_image)\n\n\n    // Shape data into react-select options object\n    const userSkills = formData.user_skills.map(skill => ({ value: skill.id, label: skill.name }))\n\n    return (\n      <Wrapper>\n        <BannerImage src={'http://backgroundlabs.com/wp-content/uploads/2014/10/yellow-triangles-background.jpg'}>\n          <ProfilePic src={userData.profile_image} />\n        </BannerImage>\n        <PageTitle>{userData.username}</PageTitle>\n\n\n        <SplitContain>\n          <SplitRow>\n            <Section>\n              {!editMode\n                ?\n                <>\n                  <SectionTitle > My Profile</SectionTitle>\n                  <p>{userData.first_name} {userData.last_name}</p>\n                  <p>email: {userData.email}</p>\n                  <p style={{ marginTop: '-15px' }}>phone: {userData.phone}</p>\n                  <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil molestias sed adipisci nulla! Neque hic omnis nam harum! Eligendi quasi fugiat enim odit commodi nam optio nesciunt laboriosam cum eius quam aspernatur minus fuga quia tempora animi inventore numquam quas ducimus unde, temporibus tenetur velit. Tenetur necessitatibus ducimus nam at.</p>\n                  <Button position={0} onClick={this.handleEditMode}>Edit</Button>\n                </>\n                :\n                <>\n                  <SectionTitle>Edit Profile</SectionTitle>\n                  <EditForm>\n                    <InputText name='first_name' value={pendingUserData.first_name} label='First Name'  returnValue={this.handleEditChange}></InputText>\n                    <InputText name='last_name' value={pendingUserData.last_name} label='Last Name' returnValue={this.handleEditChange}></InputText>\n                    <InputText name='email' value={pendingUserData.email} label='Email' returnValue={this.handleEditChange}></InputText>\n                    <InputText name='phone' value={pendingUserData.phone} label='Phone' returnValue={this.handleEditChange}></InputText>\n                    <EditPic src={pendingUserData.profile_image} />\n                    <EditPicButton onClick={this.showWidget}>\n                      {icons.edit('#232323', 18)}\n                    </EditPicButton>\n                  </EditForm>\n                  <Button position={1} onClick={this.saveEdits}>Save</Button>\n                  <Button position={0} onClick={this.discardEdits}>Cancel</Button>\n                </>\n              }\n            </Section>\n            <Section>\n              <SectionTitle>My Preferences</SectionTitle>\n              <p>availability</p>\n              <Schedule handleClick={this.editSchedule} schedule={schedule} />\n              <p>skills</p>\n              <Select styles={selectStyles} value={userSkills} options={skills} isMulti onChange={this.editSkills}/>\n              <Button position={0} onClick={this.saveShiftsSkills}>Save</Button>\n            </Section>\n          </SplitRow>\n        </SplitContain>\n        \n      </Wrapper>\n    )\n  }\n}\n\nexport default withTheme(Profile)","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport { ThemeProvider } from 'styled-components'\n\nimport { getSingleProfile, repeatUntilSuccess } from './lib/api'\n\nimport NavBar from './components/common/NavBar'\nimport Notification from './components/common/Notification'\n\nimport Home from './components/common/Home'\nimport Room from './components/common/Room'\nimport CampaignIndex from './components/common/CampaignIndex'\nimport CampaignShow from './components/common/CampaignShow'\nimport CampaignCreate from './components/common/CampaignCreate'\nimport Profile from './components/common/Profile'\n\nclass App extends React.Component {\n\n  state = {\n    theme: 'light',\n    userData: null,\n    userCampaigns: null,\n    notification: {}\n  }\n\n  themes = {\n    dark: {\n      name: 'dark',\n      primary: '#ffff50',\n      shadow: '#aeb4ba',\n      background: '#222',\n      text: '#ccc',\n      fontWeight: 300,\n      letterSpacing: '-0.002rem',\n      accent: '#999',\n      panels: '#131d25'\n    },\n    light: {\n      name: 'light',\n      primary: '#ffff50',\n      shadow: '#aeb4ba',\n      background: '#fff',\n      text: '#333',\n      fontWeight: 400,\n      letterSpacing: 0,\n      accent: '#eee',\n      panels: 'papayawhip'\n    }\n  }\n\n  componentDidMount = async () => {\n    const userID = localStorage.getItem('user_id')\n    if (userID) this.getUser(userID)\n    // TODO get stored theme\n  }\n\n  changeTheme = () => {\n    const theme = this.state.theme === 'light' ? 'dark' : 'light'\n    this.setState({ theme })\n  }\n\n  getUser = async (id) => {\n    const response = await repeatUntilSuccess(() => getSingleProfile(id))\n    this.setState({ userData: response.data }, this.getUserCampaigns)\n    this.showNotification(`welcome back ${response.data.username}`)\n  }\n\n  logout = () => {\n    localStorage.removeItem('user_id')\n    this.setState({ userData: null, userCampaigns: null })\n    this.showNotification('you are now logged out')\n  }\n\n  getUserCampaigns = () => {\n    if (!this.state.userData) return\n    const { owned_campaigns: owned, coord_campaigns: coord, conf_campaigns: volunteer } = this.state.userData\n    if (!owned || !coord || !volunteer) return\n    const userCampaigns = [...owned, ...coord, ...volunteer]\n      .map(campaign => ({ value: `/campaigns/${campaign.id}`, label: campaign.name }))\n    this.setState({ userCampaigns })\n  }\n\n  /* auto options: 0 autohide, 1 wait to dismiss */// not working currently\n  showNotification = (message, auto = 0) => {\n    this.setState({ notification: { message, auto } })\n  }\n\n  app = {\n    getUser: this.getUser,\n    logout: this.logout,\n    showNotification: this.showNotification\n  }\n\n  render() {\n    const { theme, userCampaigns, notification } = this.state\n\n    return (\n      <ThemeProvider theme={this.themes[theme]}>\n        <BrowserRouter>\n          <Notification notification={notification}/>\n          <NavBar changeTheme={this.changeTheme} app={this.app} campaignList={userCampaigns}/>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/profile\" render={() => <Profile app={this.app} />} />\n            <Route path=\"/chat/:room\" component={Room} />\n            <Route path='/campaigns/new' component={CampaignCreate} />\n            <Route path='/campaigns/:id' component={CampaignShow} />\n            <Route path='/campaigns' render={() => <CampaignIndex app={this.app}/>} />\n          </Switch>\n        </BrowserRouter>\n      </ThemeProvider>\n    )\n  }\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))","module.exports = __webpack_public_path__ + \"static/media/campaigns.39815fad.jpg\";","module.exports = __webpack_public_path__ + \"static/media/campPreview.6174eea3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/chatgif.86166eee.gif\";"],"sourceRoot":""}